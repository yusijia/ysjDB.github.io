<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>yusijia&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="yusijia's blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="yusijia's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="yusijia's blog">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="yusijia&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">yusijia&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-copy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/19/copy/" class="article-date">
  <time datetime="2016-05-19T14:58:22.000Z" itemprop="datePublished">2016-05-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/19/copy/">浅拷贝和深拷贝</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.csdn.net/tounaobun/article/details/8491392" target="_blank" rel="external">http://blog.csdn.net/tounaobun/article/details/8491392</a></p>
<p>假如说你想复制一个简单变量。很简单：</p>
<ol>
<li>int apples = 5; </li>
<li>int pears = apples; </li>
<li>不仅仅是int类型，其它七种原始数据类型(boolean,char,byte,short,float,double.long)同样适用于该类情况。<br>但是如果你复制的是一个对象，情况就有些复杂了。<br>假设说我是一个beginner，我会这样写：</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.	<span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123; </span><br><span class="line"><span class="number">2</span>.	    <span class="keyword">private</span> <span class="keyword">int</span> number; </span><br><span class="line"><span class="number">3</span>.	 </span><br><span class="line"><span class="number">4</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNumber</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">5</span>.	        <span class="keyword">return</span> number; </span><br><span class="line"><span class="number">6</span>.	    &#125; </span><br><span class="line"><span class="number">7</span>.	 </span><br><span class="line"><span class="number">8</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123; </span><br><span class="line"><span class="number">9</span>.	        <span class="keyword">this</span>.number = number; </span><br><span class="line"><span class="number">10</span>.	    &#125; </span><br><span class="line"><span class="number">11</span>.	     </span><br><span class="line"><span class="number">12</span>.	&#125; </span><br><span class="line"><span class="number">13</span>.	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123; </span><br><span class="line"><span class="number">14</span>.	     </span><br><span class="line"><span class="number">15</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123; </span><br><span class="line"><span class="number">16</span>.	         </span><br><span class="line"><span class="number">17</span>.	        Student stu1 = <span class="keyword">new</span> Student(); </span><br><span class="line"><span class="number">18</span>.	        stu1.setNumber(<span class="number">12345</span>); </span><br><span class="line"><span class="number">19</span>.	        Student stu2 = stu1; </span><br><span class="line"><span class="number">20</span>.	         </span><br><span class="line"><span class="number">21</span>.	        System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber()); </span><br><span class="line"><span class="number">22</span>.	        System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber()); </span><br><span class="line"><span class="number">23</span>.	    &#125; </span><br><span class="line"><span class="number">24</span>.	&#125; </span><br><span class="line">打印结果：</span><br><span class="line"> </span><br><span class="line"><span class="number">1</span>.	学生<span class="number">1</span>:<span class="number">12345</span> </span><br><span class="line"><span class="number">2</span>.	学生<span class="number">2</span>:<span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p>这里我们自定义了一个学生类，该类只有一个number字段。<br>我们新建了一个学生实例，然后将该值赋值给stu2实例。(Student stu2 = stu1;)<br>再看看打印结果，作为一个新手，拍了拍胸腹，对象复制不过如此，<br>难道真的是这样吗？</p>
<p>我们试着改变stu2实例的number字段，再打印结果看看：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.	stu2.setNumber(<span class="number">54321</span>); </span><br><span class="line"><span class="number">2</span>.	 </span><br><span class="line"><span class="number">3</span>.	System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber()); </span><br><span class="line"><span class="number">4</span>.	System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber()); </span><br><span class="line">打印结果:</span><br><span class="line"><span class="number">1</span>.	学生<span class="number">1</span>:<span class="number">54321</span> </span><br><span class="line"><span class="number">2</span>.	学生<span class="number">2</span>:<span class="number">54321</span></span><br></pre></td></tr></table></figure>
<p>这就怪了，为什么改变学生2的学号，学生1的学号也发生了变化呢？<br>原因出在(stu2 = stu1) 这一句。该语句的作用是将stu1的引用赋值给stu2，<br>这样，stu1和stu2指向内存堆中同一个对象。<br>那么，怎样才能达到复制一个对象呢？<br>是否记得万类之王Object。它有11个方法，有两个protected的方法，其中一个为clone方法。<br>该方法的签名是：<br>protected native Object clone() throws CloneNotSupportedException;<br>因为每个类直接或间接的父类都是Object，因此它们都含有clone()方法，但是因为该方法是protected，所以都不能在类外进行访问。<br>要想对一个对象进行复制，就需要对clone方法覆盖。</p>
<h2 id="一般步骤是（浅复制）："><a href="#一般步骤是（浅复制）：" class="headerlink" title="一般步骤是（浅复制）："></a>一般步骤是（浅复制）：</h2><ol>
<li><p><strong>被复制的类需要实现Clonenable接口（不实现的话在调用clone方法会抛出CloneNotSupportedException异常) 该接口为标记接口(不含任何方法)</strong></p>
</li>
<li><p>覆盖clone()方法，访问修饰符设为public。方法中调用super.clone()方法得到需要的复制对象，（native为本地方法)<br>下面对上面那个方法进行改造：</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.	<span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123; </span><br><span class="line"><span class="number">2</span>.	    <span class="keyword">private</span> <span class="keyword">int</span> number; </span><br><span class="line"><span class="number">3</span>.	 </span><br><span class="line"><span class="number">4</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNumber</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">5</span>.	        <span class="keyword">return</span> number; </span><br><span class="line"><span class="number">6</span>.	    &#125; </span><br><span class="line"><span class="number">7</span>.	 </span><br><span class="line"><span class="number">8</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123; </span><br><span class="line"><span class="number">9</span>.	        <span class="keyword">this</span>.number = number; </span><br><span class="line"><span class="number">10</span>.	    &#125; </span><br><span class="line"><span class="number">11</span>.	     </span><br><span class="line"><span class="number">12</span>.	    <span class="meta">@Override</span> </span><br><span class="line"><span class="number">13</span>.	    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">14</span>.	        Student stu = <span class="keyword">null</span>; </span><br><span class="line"><span class="number">15</span>.	        <span class="keyword">try</span>&#123; </span><br><span class="line"><span class="number">16</span>.	            stu = (Student)<span class="keyword">super</span>.clone(); </span><br><span class="line"><span class="number">17</span>.	        &#125;<span class="keyword">catch</span>(CloneNotSupportedException e) &#123; </span><br><span class="line"><span class="number">18</span>.	            e.printStackTrace(); </span><br><span class="line"><span class="number">19</span>.	        &#125; </span><br><span class="line"><span class="number">20</span>.	        <span class="keyword">return</span> stu; </span><br><span class="line"><span class="number">21</span>.	    &#125; </span><br><span class="line"><span class="number">22</span>.	&#125; </span><br><span class="line"><span class="number">23</span>.	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123; </span><br><span class="line"><span class="number">24</span>.	     </span><br><span class="line"><span class="number">25</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123; </span><br><span class="line"><span class="number">26</span>.	         </span><br><span class="line"><span class="number">27</span>.	        Student stu1 = <span class="keyword">new</span> Student(); </span><br><span class="line"><span class="number">28</span>.	        stu1.setNumber(<span class="number">12345</span>); </span><br><span class="line"><span class="number">29</span>.	        Student stu2 = (Student)stu1.clone(); </span><br><span class="line"><span class="number">30</span>.	         </span><br><span class="line"><span class="number">31</span>.	        System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber()); </span><br><span class="line"><span class="number">32</span>.	        System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber()); </span><br><span class="line"><span class="number">33</span>.	         </span><br><span class="line"><span class="number">34</span>.	        stu2.setNumber(<span class="number">54321</span>); </span><br><span class="line"><span class="number">35</span>.	     </span><br><span class="line"><span class="number">36</span>.	        System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber()); </span><br><span class="line"><span class="number">37</span>.	        System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber()); </span><br><span class="line"><span class="number">38</span>.	    &#125; </span><br><span class="line"><span class="number">39</span>.	&#125; </span><br><span class="line"><span class="number">40</span>.	学生<span class="number">1</span>:<span class="number">12345</span> </span><br><span class="line"><span class="number">41</span>.	学生<span class="number">2</span>:<span class="number">12345</span> </span><br><span class="line"><span class="number">42</span>.	学生<span class="number">1</span>:<span class="number">12345</span> </span><br><span class="line"><span class="number">43</span>.	学生<span class="number">2</span>:<span class="number">54321</span></span><br></pre></td></tr></table></figure>
<p>上面的复制被称为浅复制(Shallow Copy)，还有一种稍微复杂的深度复制(deep copy)：<br>我们在学生类里再加一个Address类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.	<span class="class"><span class="keyword">class</span> <span class="title">Address</span>  </span>&#123; </span><br><span class="line"><span class="number">2</span>.	    <span class="keyword">private</span> String add; </span><br><span class="line"><span class="number">3</span>.	 </span><br><span class="line"><span class="number">4</span>.	    <span class="function"><span class="keyword">public</span> String <span class="title">getAdd</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">5</span>.	        <span class="keyword">return</span> add; </span><br><span class="line"><span class="number">6</span>.	    &#125; </span><br><span class="line"><span class="number">7</span>.	 </span><br><span class="line"><span class="number">8</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdd</span><span class="params">(String add)</span> </span>&#123; </span><br><span class="line"><span class="number">9</span>.	        <span class="keyword">this</span>.add = add; </span><br><span class="line"><span class="number">10</span>.	    &#125; </span><br><span class="line"><span class="number">11</span>.	     </span><br><span class="line"><span class="number">12</span>.	&#125; </span><br><span class="line"><span class="number">13</span>.	 </span><br><span class="line"><span class="number">14</span>.	<span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123; </span><br><span class="line"><span class="number">15</span>.	    <span class="keyword">private</span> <span class="keyword">int</span> number; </span><br><span class="line"><span class="number">16</span>.	 </span><br><span class="line"><span class="number">17</span>.	    <span class="keyword">private</span> Address addr; </span><br><span class="line"><span class="number">18</span>.	     </span><br><span class="line"><span class="number">19</span>.	    <span class="function"><span class="keyword">public</span> Address <span class="title">getAddr</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">20</span>.	        <span class="keyword">return</span> addr; </span><br><span class="line"><span class="number">21</span>.	    &#125; </span><br><span class="line"><span class="number">22</span>.	 </span><br><span class="line"><span class="number">23</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddr</span><span class="params">(Address addr)</span> </span>&#123; </span><br><span class="line"><span class="number">24</span>.	        <span class="keyword">this</span>.addr = addr; </span><br><span class="line"><span class="number">25</span>.	    &#125; </span><br><span class="line"><span class="number">26</span>.	 </span><br><span class="line"><span class="number">27</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNumber</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">28</span>.	        <span class="keyword">return</span> number; </span><br><span class="line"><span class="number">29</span>.	    &#125; </span><br><span class="line"><span class="number">30</span>.	 </span><br><span class="line"><span class="number">31</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123; </span><br><span class="line"><span class="number">32</span>.	        <span class="keyword">this</span>.number = number; </span><br><span class="line"><span class="number">33</span>.	    &#125; </span><br><span class="line"><span class="number">34</span>.	     </span><br><span class="line"><span class="number">35</span>.	    <span class="meta">@Override</span> </span><br><span class="line"><span class="number">36</span>.	    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">37</span>.	        Student stu = <span class="keyword">null</span>; </span><br><span class="line"><span class="number">38</span>.	        <span class="keyword">try</span>&#123; </span><br><span class="line"><span class="number">39</span>.	            stu = (Student)<span class="keyword">super</span>.clone(); </span><br><span class="line"><span class="number">40</span>.	        &#125;<span class="keyword">catch</span>(CloneNotSupportedException e) &#123; </span><br><span class="line"><span class="number">41</span>.	            e.printStackTrace(); </span><br><span class="line"><span class="number">42</span>.	        &#125; </span><br><span class="line"><span class="number">43</span>.	        <span class="keyword">return</span> stu; </span><br><span class="line"><span class="number">44</span>.	    &#125; </span><br><span class="line"><span class="number">45</span>.	&#125; </span><br><span class="line"><span class="number">46</span>.	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123; </span><br><span class="line"><span class="number">47</span>.	     </span><br><span class="line"><span class="number">48</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123; </span><br><span class="line"><span class="number">49</span>.	         </span><br><span class="line"><span class="number">50</span>.	        Address addr = <span class="keyword">new</span> Address(); </span><br><span class="line"><span class="number">51</span>.	        addr.setAdd(<span class="string">"杭州市"</span>); </span><br><span class="line"><span class="number">52</span>.	        Student stu1 = <span class="keyword">new</span> Student(); </span><br><span class="line"><span class="number">53</span>.	        stu1.setNumber(<span class="number">123</span>); </span><br><span class="line"><span class="number">54</span>.	        stu1.setAddr(addr); </span><br><span class="line"><span class="number">55</span>.	         </span><br><span class="line"><span class="number">56</span>.	        Student stu2 = (Student)stu1.clone(); </span><br><span class="line"><span class="number">57</span>.	         </span><br><span class="line"><span class="number">58</span>.	        System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber() + <span class="string">",地址:"</span> + stu1.getAddr().getAdd()); </span><br><span class="line"><span class="number">59</span>.	        System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber() + <span class="string">",地址:"</span> + stu2.getAddr().getAdd()); </span><br><span class="line"><span class="number">60</span>.	    &#125; </span><br><span class="line"><span class="number">61</span>.	&#125; </span><br><span class="line"><span class="number">62</span>.	学生<span class="number">1</span>:<span class="number">123</span>,地址:杭州市 </span><br><span class="line"><span class="number">63</span>.	学生<span class="number">2</span>:<span class="number">123</span>,地址:杭州市</span><br></pre></td></tr></table></figure>
<p>乍一看没什么问题，真的是这样吗？</p>
<p>我们在main方法中试着改变addr实例的地址。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.	addr.setAdd(<span class="string">"西湖区"</span>); </span><br><span class="line"><span class="number">2</span>.	 </span><br><span class="line"><span class="number">3</span>.	System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber() + <span class="string">",地址:"</span> + stu1.getAddr().getAdd()); </span><br><span class="line"><span class="number">4</span>.	System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber() + <span class="string">",地址:"</span> + stu2.getAddr().getAdd()); </span><br><span class="line"><span class="number">5</span>.	学生<span class="number">1</span>:<span class="number">123</span>,地址:杭州市 </span><br><span class="line"><span class="number">6</span>.	学生<span class="number">2</span>:<span class="number">123</span>,地址:杭州市 </span><br><span class="line"><span class="number">7</span>.	学生<span class="number">1</span>:<span class="number">123</span>,地址:西湖区 </span><br><span class="line"><span class="number">8</span>.	学生<span class="number">2</span>:<span class="number">123</span>,地址:西湖区</span><br></pre></td></tr></table></figure>
<p>这就奇怪了，怎么两个学生的地址都改变了？<br>原因是浅复制只是复制了addr变量的引用，并没有真正的开辟另一块空间，将值复制后再将引用返回给新对象。<br>所以，为了达到真正的复制对象，而不是纯粹引用复制。我们需要将Address类可复制化，并且修改clone方法，完整代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.	<span class="keyword">package</span> abc; </span><br><span class="line"><span class="number">2</span>.	 </span><br><span class="line"><span class="number">3</span>.	<span class="class"><span class="keyword">class</span> <span class="title">Address</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123; </span><br><span class="line"><span class="number">4</span>.	    <span class="keyword">private</span> String add; </span><br><span class="line"><span class="number">5</span>.	 </span><br><span class="line"><span class="number">6</span>.	    <span class="function"><span class="keyword">public</span> String <span class="title">getAdd</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">7</span>.	        <span class="keyword">return</span> add; </span><br><span class="line"><span class="number">8</span>.	    &#125; </span><br><span class="line"><span class="number">9</span>.	 </span><br><span class="line"><span class="number">10</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdd</span><span class="params">(String add)</span> </span>&#123; </span><br><span class="line"><span class="number">11</span>.	        <span class="keyword">this</span>.add = add; </span><br><span class="line"><span class="number">12</span>.	    &#125; </span><br><span class="line"><span class="number">13</span>.	     </span><br><span class="line"><span class="number">14</span>.	    <span class="meta">@Override</span> </span><br><span class="line"><span class="number">15</span>.	    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">16</span>.	        Address addr = <span class="keyword">null</span>; </span><br><span class="line"><span class="number">17</span>.	        <span class="keyword">try</span>&#123; </span><br><span class="line"><span class="number">18</span>.	            addr = (Address)<span class="keyword">super</span>.clone(); </span><br><span class="line"><span class="number">19</span>.	        &#125;<span class="keyword">catch</span>(CloneNotSupportedException e) &#123; </span><br><span class="line"><span class="number">20</span>.	            e.printStackTrace(); </span><br><span class="line"><span class="number">21</span>.	        &#125; </span><br><span class="line"><span class="number">22</span>.	        <span class="keyword">return</span> addr; </span><br><span class="line"><span class="number">23</span>.	    &#125; </span><br><span class="line"><span class="number">24</span>.	&#125; </span><br><span class="line"><span class="number">25</span>.	 </span><br><span class="line"><span class="number">26</span>.	<span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123; </span><br><span class="line"><span class="number">27</span>.	    <span class="keyword">private</span> <span class="keyword">int</span> number; </span><br><span class="line"><span class="number">28</span>.	 </span><br><span class="line"><span class="number">29</span>.	    <span class="keyword">private</span> Address addr; </span><br><span class="line"><span class="number">30</span>.	     </span><br><span class="line"><span class="number">31</span>.	    <span class="function"><span class="keyword">public</span> Address <span class="title">getAddr</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">32</span>.	        <span class="keyword">return</span> addr; </span><br><span class="line"><span class="number">33</span>.	    &#125; </span><br><span class="line"><span class="number">34</span>.	 </span><br><span class="line"><span class="number">35</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddr</span><span class="params">(Address addr)</span> </span>&#123; </span><br><span class="line"><span class="number">36</span>.	        <span class="keyword">this</span>.addr = addr; </span><br><span class="line"><span class="number">37</span>.	    &#125; </span><br><span class="line"><span class="number">38</span>.	 </span><br><span class="line"><span class="number">39</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNumber</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">40</span>.	        <span class="keyword">return</span> number; </span><br><span class="line"><span class="number">41</span>.	    &#125; </span><br><span class="line"><span class="number">42</span>.	 </span><br><span class="line"><span class="number">43</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123; </span><br><span class="line"><span class="number">44</span>.	        <span class="keyword">this</span>.number = number; </span><br><span class="line"><span class="number">45</span>.	    &#125; </span><br><span class="line"><span class="number">46</span>.	     </span><br><span class="line"><span class="number">47</span>.	    <span class="meta">@Override</span> </span><br><span class="line"><span class="number">48</span>.	    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="number">49</span>.	        Student stu = <span class="keyword">null</span>; </span><br><span class="line"><span class="number">50</span>.	        <span class="keyword">try</span>&#123; </span><br><span class="line"><span class="number">51</span>.	            stu = (Student)<span class="keyword">super</span>.clone();   <span class="comment">//浅复制  </span></span><br><span class="line"><span class="number">52</span>.	        &#125;<span class="keyword">catch</span>(CloneNotSupportedException e) &#123; </span><br><span class="line"><span class="number">53</span>.	            e.printStackTrace(); </span><br><span class="line"><span class="number">54</span>.	        &#125; </span><br><span class="line"><span class="number">55</span>.	        stu.addr = (Address)addr.clone();   <span class="comment">//深度复制  </span></span><br><span class="line"><span class="number">56</span>.	        <span class="keyword">return</span> stu; </span><br><span class="line"><span class="number">57</span>.	    &#125; </span><br><span class="line"><span class="number">58</span>.	&#125; </span><br><span class="line"><span class="number">59</span>.	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123; </span><br><span class="line"><span class="number">60</span>.	     </span><br><span class="line"><span class="number">61</span>.	    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123; </span><br><span class="line"><span class="number">62</span>.	         </span><br><span class="line"><span class="number">63</span>.	        Address addr = <span class="keyword">new</span> Address(); </span><br><span class="line"><span class="number">64</span>.	        addr.setAdd(<span class="string">"杭州市"</span>); </span><br><span class="line"><span class="number">65</span>.	        Student stu1 = <span class="keyword">new</span> Student(); </span><br><span class="line"><span class="number">66</span>.	        stu1.setNumber(<span class="number">123</span>); </span><br><span class="line"><span class="number">67</span>.	        stu1.setAddr(addr); </span><br><span class="line"><span class="number">68</span>.	         </span><br><span class="line"><span class="number">69</span>.	        Student stu2 = (Student)stu1.clone(); </span><br><span class="line"><span class="number">70</span>.	         </span><br><span class="line"><span class="number">71</span>.	        System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber() + <span class="string">",地址:"</span> + stu1.getAddr().getAdd()); </span><br><span class="line"><span class="number">72</span>.	        System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber() + <span class="string">",地址:"</span> + stu2.getAddr().getAdd()); </span><br><span class="line"><span class="number">73</span>.	         </span><br><span class="line"><span class="number">74</span>.	        addr.setAdd(<span class="string">"西湖区"</span>); </span><br><span class="line"><span class="number">75</span>.	         </span><br><span class="line"><span class="number">76</span>.	        System.out.println(<span class="string">"学生1:"</span> + stu1.getNumber() + <span class="string">",地址:"</span> + stu1.getAddr().getAdd()); </span><br><span class="line"><span class="number">77</span>.	        System.out.println(<span class="string">"学生2:"</span> + stu2.getNumber() + <span class="string">",地址:"</span> + stu2.getAddr().getAdd()); </span><br><span class="line"><span class="number">78</span>.	    &#125; </span><br><span class="line"><span class="number">79</span>.	&#125; </span><br><span class="line"><span class="number">80</span>.	学生<span class="number">1</span>:<span class="number">123</span>,地址:杭州市 </span><br><span class="line"><span class="number">81</span>.	学生<span class="number">2</span>:<span class="number">123</span>,地址:杭州市 </span><br><span class="line"><span class="number">82</span>.	学生<span class="number">1</span>:<span class="number">123</span>,地址:西湖区 </span><br><span class="line"><span class="number">83</span>.	学生<span class="number">2</span>:<span class="number">123</span>,地址:杭州市</span><br></pre></td></tr></table></figure>
<p>这样结果就符合我们的想法了。</p>
<h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><ul>
<li>浅拷贝是指在拷贝对象时，对于基本数据类型的变量会重新复制一份，而对于引用类型的变量只是对引用进行拷贝，没有对引用指向的对象进行拷贝。</li>
<li>而深拷贝是指在拷贝对象时，同时会对引用指向的对象进行拷贝。<br>区别就在于是否对  对象中的引用变量所指向的对象进行拷贝。</li>
</ul>
<h2 id="但还有个问题："><a href="#但还有个问题：" class="headerlink" title="但还有个问题："></a>但还有个问题：</h2><p>　　要是类0里有类1，类1里面又有类2 .，类2里又有类3，如此类推。。这里的深层复制就显然会很麻烦，还有没有别的方法？    </p>
<h2 id="答："><a href="#答：" class="headerlink" title="答："></a>答：</h2><p>　　有一个很简单的方法，就是先把对象序列化，然后再反序列化成对象，该对象保证每个引用都是崭新的。（如果类里有单例需要特殊处理）。<br>详细看： <a href="http://blog.csdn.net/wangloveall/article/details/7992448" target="_blank" rel="external">http://blog.csdn.net/wangloveall/article/details/7992448</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/19/copy/" data-id="cioefljep0006usdgowf59z2g" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RTTI-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/19/RTTI-2/" class="article-date">
  <time datetime="2016-05-19T14:50:09.000Z" itemprop="datePublished">2016-05-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/19/RTTI-2/">RTTI总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.csdn.net/linzhengqun/article/details/6284929" target="_blank" rel="external">http://blog.csdn.net/linzhengqun/article/details/6284929</a></p>
<ol>
<li><p>每个类都有一个Class对象，当我们在运行期第一次生成类的实例时，JVM就加载这个类的Class对象，然后用这个Class对象来创建类实例；Class类似于Delphi中的引用类TClass，用于保存类的运行时信息。</p>
</li>
<li><p>Class的static方法forName()用于查找某个类的Class对象，如果forName找不到你要的类的Class对象，会抛出ClassNotFoundException异常：</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;  </span><br><span class="line">&#125;  </span><br><span class="line">   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;              </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            Class&lt;?&gt; cls = Class.forName(<span class="string">"A"</span>);  </span><br><span class="line">            System.out.println(cls.getName());  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 查找类的Class对象的另一个方法是直接调用类.class，这会在编译期就检查是否正确，因此不需要捕获异常：</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;  </span><br><span class="line">&#125;  </span><br><span class="line">   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;              </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">        <span class="comment">// 类有class关键字  </span></span><br><span class="line">        Class&lt;A&gt; acls = A.class;  </span><br><span class="line">        System.out.println(acls.getName());  </span><br><span class="line">        <span class="comment">// 普通类型也有  </span></span><br><span class="line">        Class&lt;Integer&gt; icls = <span class="keyword">int</span>.class;  </span><br><span class="line">        System.out.println(icls.getName());  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.  判断两个对象是否属于同一个类，可以通过比较他们的<span class="class"><span class="keyword">class</span>的方式，通过对象的<span class="title">getClass</span>()方法可以得<span class="title">Class</span>对象：</span><br><span class="line"></span><br><span class="line">```<span class="title">java</span></span><br><span class="line"><span class="title">class</span> <span class="title">A</span></span>&#123;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;              </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">        A a = <span class="keyword">new</span> B();  </span><br><span class="line">        B b = <span class="keyword">new</span> B();  </span><br><span class="line">        <span class="comment">// a和b都B的实例，所以为true  </span></span><br><span class="line">        <span class="keyword">if</span> (a.getClass() == b.getClass())  </span><br><span class="line">            System.out.print(<span class="string">"yes"</span>);  </span><br><span class="line">        <span class="keyword">else</span>  </span><br><span class="line">            System.out.print(<span class="string">"no"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>要判断对象是否是某个类或某个类的派生类的实例(考虑了继承)，可以通过两个方法：1是使用instanceof关键字，2是使用Class.isInstance方法：</li>
</ol>
<pre><code class="java"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{  
}  
<span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>{  
}  
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{              
    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{  
        A a = <span class="keyword">new</span> B();  
        B b = <span class="keyword">new</span> B();  
        <span class="comment">// 使用instanceof关键字，a是否A或其子类的对象  </span>
        <span class="keyword">if</span> (a <span class="keyword">instanceof</span> A)  
            System.out.println(<span class="string">"Yes"</span>);  
        <span class="comment">// 使用instanceof关键字，b是否B或其子类的对象  </span>
        <span class="keyword">if</span> (b <span class="keyword">instanceof</span> B)  
            System.out.println(<span class="string">"Yes"</span>);  
        <span class="comment">// 使用isInstance方法  </span>
        <span class="keyword">if</span> (A.class.isInstance(a))  
            System.out.println(<span class="string">"Yes"</span>);  
        <span class="keyword">if</span> (B.class.isInstance(a))  
            System.out.println(<span class="string">"Yes"</span>);  
    }  
}
</code></pre>
<ol>
<li>Class.NewInstance可以创建一个类实例，该类必须有默认构造函数，否则会抛出InstantiationException异常：</li>
</ol>
<pre><code class="java"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>{  
}  
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{              
    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{  
        <span class="keyword">try</span> {  
            A a = A.class.newInstance();  
        } <span class="keyword">catch</span> (InstantiationException e) {  
            e.printStackTrace();  
        } <span class="keyword">catch</span> (IllegalAccessException e) {  
            e.printStackTrace();  
        }  
    }  
}
</code></pre>
<ol>
<li>Class还提供了一些更强大的方法，可以得到类的更多信息，比如：getSuperclass: 取得父类的Class对象；getInterfaces: 取得实现的接口数组；还有其他很多方法，详见JavaDoc。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/19/RTTI-2/" data-id="cioefljdt0000usdgq7k5tibv" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RTTI-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/19/RTTI-1/" class="article-date">
  <time datetime="2016-05-19T14:40:48.000Z" itemprop="datePublished">2016-05-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/19/RTTI-1/">初识RTTI</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>RTTI（Run-Time Type Identification，通过运行时类型识别）的含义就是在运行时识别一个对象的类型，其对应的类是Class对象，每个java里面的类都对应一个Class对象(在编写并且编译后)，这个对象被保存在这个类的同名class文件里。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> lianxi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Birth</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">man</span></span>&#123;</span><br><span class="line">	man()&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span> <span class="keyword">extends</span> <span class="title">man</span></span>&#123;</span><br><span class="line">	Human()&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Woman</span> <span class="keyword">extends</span> <span class="title">man</span> <span class="keyword">implements</span> <span class="title">Birth</span></span>&#123;</span><br><span class="line">	Woman()&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getBirth</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"getBirth!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">lianxix</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Human human = <span class="keyword">new</span> Human();</span><br><span class="line">		Class c1 = human.getClass();</span><br><span class="line">		System.out.println(c1.getName());</span><br><span class="line">		System.out.println(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		Class c2 = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			c2 = Class.forName(<span class="string">"lianxi.Woman"</span>);<span class="comment">//forName()方法中的字符串要使用全限定名（包括包名）</span></span><br><span class="line">		&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">			System.out.println(<span class="string">"Not found class of Human"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(c2);</span><br><span class="line">		System.out.println(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(Class face : c2.getInterfaces())<span class="comment">//Class.getInterfaces()方法返回的是Class对象，他们表示在Class对象中所包含的接口</span></span><br><span class="line">			System.out.println(face);</span><br><span class="line">		System.out.println(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		Class up = c2.getSuperclass();</span><br><span class="line">		Object obj = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			obj = up.newInstance();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="comment">//使用newInstance()来创建的类，必须带有默认的构造器</span></span><br><span class="line">		System.out.println(obj.getClass());</span><br><span class="line">		System.out.println(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		Class c3 = Woman.class;</span><br><span class="line">		System.out.println(c3);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">lianxi.Human</span><br><span class="line">------------</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">lianxi</span>.<span class="title">Woman</span></span><br><span class="line">------------</span><br><span class="line"><span class="title">interface</span> <span class="title">lianxi</span>.<span class="title">Birth</span></span><br><span class="line">------------</span><br><span class="line"><span class="title">class</span> <span class="title">lianxi</span>.<span class="title">man</span></span><br><span class="line">------------</span><br><span class="line"><span class="title">class</span> <span class="title">lianxi</span>.<span class="title">Woman</span></span></span><br></pre></td></tr></table></figure>
<p>　　当我们调用对象的getClass()方法时，就得到对应Class对象的引用。<br>除了getClass()方法外，我们还有其他方式调用Class类的对象。</p>
<ul>
<li>forName()方法接收一个字符串作为参数，该字符串是类的名字。这将返回相应的Class类对象。</li>
<li>Woman.class方法是直接调用类的class成员。这将返回相应的Class类对象。</li>
</ul>
<h2 id="类的字面常量："><a href="#类的字面常量：" class="headerlink" title="类的字面常量："></a>类的字面常量：</h2><p> 为了使用类而做的工作实际包含三个步骤: </p>
<ul>
<li><p>加载，这是由类加载器执行的。改步骤将查找字节码，并从字节码中创建一个Class对象。 </p>
</li>
<li><p>链接。在链接阶段将验证类中的字节码，为静态域分配存储空间，并且如果必需的话，将解析这个类创建的对其他类的所有引用。 </p>
</li>
<li><p>初始化。如果该类具有超类，则对其初始化，执行静态初始化器和静态初始化块。<br>初始化被延迟到了静态方法(构造器隐式地是静态的)或者非常数静态域进行首次引用时才执行<br>所以仅适用.class语法来获得对类的引用不会引发初始化，但为了产生class引用，Class.forName()立即就进行了初始化<br>如果一个static域不是final的，那么在对它访问时，总是要求在它被读取之前，要先进行链接（为这个域分配存储空间）和初始化（初始化存储空间）。<br>由于static final值是编译器常量，所以这个值不需要对类进行初始化就可以被读取，但如果只是将一个域设置为static或final的，还不足以确保这种行为。</p>
</li>
</ul>
<p>在javaSE5中，Class&lt;?&gt;由于平凡的Class，Class&lt;?&gt;可以与extends关键字结合创建一个范围</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/19/RTTI-1/" data-id="cioeflje00001usdg5ks07auc" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-The base of java/Override-and-Overload" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/18/The base of java/Override-and-Overload/" class="article-date">
  <time datetime="2016-05-18T14:56:47.000Z" itemprop="datePublished">2016-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/The base of java/Override-and-Overload/">Override and Overload</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.csdn.net/ivy_123ivy/article/details/9416529" target="_blank" rel="external">http://blog.csdn.net/ivy_123ivy/article/details/9416529</a></p>
<h2 id="首先我们来讲讲：重载-Overloading"><a href="#首先我们来讲讲：重载-Overloading" class="headerlink" title="首先我们来讲讲：重载(Overloading)"></a>首先我们来讲讲：重载(Overloading)</h2><pre><code>（1） 方法重载是让类以统一的方式处理不同类型数据的一种手段。多个同名函数同时存在，具有不同的参数个数/类型。
重载Overloading是一个类中多态性的一种表现。

（2） Java的方法重载，就是在类中可以创建多个方法，它们具有相同的名字，但具有不同的参数和不同的定义。
调用方法时通过传递给它们的不同参数个数和参数类型来决定具体使用哪个方法, 这就是多态性。

（3） 重载的时候，方法名要一样，但是参数类型和个数不一样，返回值类型可以相同也可以不相同。无法以返回类型作为重载函数的区分标准。
</code></pre><p>   下面是重载的例子：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package c04.answer;//这是包名</span><br><span class="line">//这是这个程序的第一种编程方法，在main方法中先创建一个Dog类实例，然后在Dog类的构造方法中利用this关键字调用不同的bark方法。</span><br><span class="line">不同的重载方法bark是根据其参数类型的不同而区分的。</span><br><span class="line">//注意：除构造器以外，编译器禁止在其他任何地方中调用构造器。</span><br><span class="line">package c04.answer;</span><br><span class="line">public class Dog &#123;</span><br><span class="line">     Dog()</span><br><span class="line">     &#123;</span><br><span class="line">            this.bark();</span><br><span class="line">     &#125;</span><br><span class="line">     void bark()//bark()方法是重载方法</span><br><span class="line">     &#123;</span><br><span class="line">            System.out.println(\"no barking!\");</span><br><span class="line">            this.bark(\"female\", 3.4);</span><br><span class="line">     &#125;</span><br><span class="line">     void bark(String m,double l) </span><br><span class="line">     &#123;</span><br><span class="line">            System.out.println(\"a barking dog!\");</span><br><span class="line">            this.bark(5, \"China\");</span><br><span class="line">     &#125;</span><br><span class="line">     void bark(int a,String n)//不能以返回值区分重载方法，而只能以“参数类型”和“类名”来区分</span><br><span class="line">     &#123;</span><br><span class="line">            System.out.println(\"a howling dog\");</span><br><span class="line">     &#125;</span><br><span class="line">     public static void main(String[] args)</span><br><span class="line">     &#123;</span><br><span class="line">            Dog dog = new Dog();</span><br><span class="line">            //dog.bark(); [Page]</span><br><span class="line">            //dog.bark(\"male\", \"yellow\");</span><br><span class="line">            //dog.bark(5, \"China\");</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="然后我们再来谈谈-重写（Overriding）"><a href="#然后我们再来谈谈-重写（Overriding）" class="headerlink" title="然后我们再来谈谈 重写（Overriding）"></a>然后我们再来谈谈 重写（Overriding）</h2><pre><code>（1） 父类与子类之间的多态性，对父类的函数进行重新定义。如果在子类中定义某方法与其父类有相同的名称和参数，我们说该方法被重写 (Overriding)。在Java中，子类可继承父类中的方法，而不需要重新编写相同的方法。
但有时子类并不想原封不动地继承父类的方法，而是想作一定的修改，这就需要采用方法的重写。
方法重写又称方法覆盖。

（2）若子类中的方法与父类中的某一方法具有相同的方法名、返回类型和参数表，则新方法将覆盖原有的方法。
如需父类中原有的方法，可使用super关键字，该关键字引用了当前类的父类。

（3）子类函数的访问修饰权限不能少于父类的；

概念：即调用对象方法的机制。

动态绑定的内幕：
1、编译器检查对象声明的类型和方法名，从而获取所有候选方法。试着把上例Base类的test注释掉，这时再编译就无法通过。

2、重载决策：编译器检查方法调用的参数类型，从上述候选方法选出唯一的那一个（其间会有隐含类型转化）。
如果编译器找到多于一个或者没找到，此时编译器就会报错。试着把上例Base类的test(byte b)注释掉，这时运行结果是1 1。

3、若方法类型为priavte static final ，java采用静态编译，编译器会准确知道该调用哪
个方法。

4、当程序运行并且使用动态绑定来调用一个方法时，那么虚拟机必须调用对象的实际类型相匹配的方法版本。
</code></pre><p>在例子中，b所指向的实际类型是TestOverriding，所以b.test(0)调用子类的test。<br>但是，子类并没有重写test(byte b)，所以b.test((byte)0)调用的是父类的test(byte b)。<br>如果把父类的(byte b)注释掉，则通过第二步隐含类型转化为int,最终调用的是子类的test(int i)。<br> 只有非private方法才可以被重写(覆盖)<br>学习总结：<br>    多态性是面向对象编程的一种特性，和方法无关，<br>    简单说，就是同样的一个方法能够根据输入数据的不同，做出不同的处理，即方法的<br>    重载——有不同的参数列表（静态多态性）<br>　 而当子类继承自父类的相同方法，输入数据一样，但要做出有别于父类的响应时，你就要覆盖父类方法，<br>    即在子类中重写该方法——相同参数，不同实现（动态多态性）</p>
<pre><code>OOP三大特性：继承，多态，封装。
public class Base
{
    void test(int i)
    {
        System.out.print(i);
    }
    void test(byte b)
    {
        System.out.print(b);
    }
}
public class TestOverriding extends Base
{
    void test(int i)
    {
        i++;
        System.out.println(i);
    }
      public static void main(String[]agrs)
    {
        Base b=new TestOverriding();
        b.test(0)
        b.test((byte)0)
    }
}

这时的输出结果是1     0，这是运行时动态绑定的结果。
</code></pre><p>重写的主要优点是能够定义某个子类特有的特征：<br>public class Father{<br>   public void speak(){<br>       System.out.println(Father);<br>    }<br>}<br>public class Son extends Father{<br>    public void speak(){<br>        System.out.println(“son”);<br>   }<br>}<br>这也叫做多态性，重写方法只能存在于具有继承关系中，重写方法只能重写父类非私有的方法。<br>当上例中Father类speak()方法被private时，Son类不能重写出Father类speak()方法，此时Son类speak()方法相当与在Son类中定义的一个speak()方法。<br>Father类speak()方法一但被final时，无论该方法被public,protected及默认所修饰时，Son类根本不能重写Father类speak()方法，<br>试图编译代码时，编译器会报错。例：<br>public class Father{<br>   final public void speak(){<br>       System.out.println(“Father”);<br>    }<br>}<br>public class Son extends Father{<br>    public void speak(){<br>       System.out.println(“son”);<br>    }<br>}       //编译器会报错；</p>
<p>Father类speak()方法被默认修饰时，只能在同一包中，被其子类被重写，如果不在同一包则不能重写。<br>Father类speak()方法被protoeted时，不仅在同一包中，被其子类被重写，还可以不同包的子类重写。</p>
<h2 id="重写方法的规则："><a href="#重写方法的规则：" class="headerlink" title="重写方法的规则："></a>重写方法的规则：</h2><p>1、参数列表必须完全与被重写的方法相同，否则不能称其为重写而是重载。</p>
<p>2、返回的类型必须一直与被重写的方法的返回类型相同，否则不能称其为重写而是重载。</p>
<p>3、访问修饰符的限制一定要大于被重写方法的访问修饰符（public&gt;protected&gt;default&gt;private）</p>
<p>4、重写方法一定不能抛出新的检查异常或者比被重写方法申明更加宽泛的检查型异常。例如：<br>父类的一个方法申明了一个检查异常IOException，在重写这个方法是就不能抛出Exception,只能抛出IOException的子类异常，可以抛出非检查异常。</p>
<h2 id="而重载的规则："><a href="#而重载的规则：" class="headerlink" title="而重载的规则："></a>而重载的规则：</h2><p>1、必须具有不同的参数列表；</p>
<p>2、与返回类型无关，只要参数列表不同就可以了；</p>
<p>3、可以有不同的访问修饰符；</p>
<p>4、可以抛出不同的异常；</p>
<h2 id="重写与重载的区别在于："><a href="#重写与重载的区别在于：" class="headerlink" title="重写与重载的区别在于："></a>重写与重载的区别在于：</h2><p>　　重写多态性起作用，对调用被重载过的方法可以大大减少代码的输入量，同一个方法名只要往里面传递不同的参数就可以拥有不同的功能或返回值。<br>用好重写和重载可以设计一个结构清晰而简洁的类，可以说重写和重载在编写代码过程中的作用非同一般.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/18/The base of java/Override-and-Overload/" data-id="cioefljhr001qusdgsqdl9so2" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-The base of java/String-StringBuffer-StringBuilder-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/18/The base of java/String-StringBuffer-StringBuilder-1/" class="article-date">
  <time datetime="2016-05-18T14:51:07.000Z" itemprop="datePublished">2016-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/The base of java/String-StringBuffer-StringBuilder-1/">深度理解String-StringBuffer-StringBuilder</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>转： <a href="http://www.cnblogs.com/dolphin0520/p/3778589.html" target="_blank" rel="external">http://www.cnblogs.com/dolphin0520/p/3778589.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/18/The base of java/String-StringBuffer-StringBuilder-1/" data-id="cioefljhn001ousdgx5le82er" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-The base of java/String-StringBuffer-StringBuilder" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/18/The base of java/String-StringBuffer-StringBuilder/" class="article-date">
  <time datetime="2016-05-18T14:49:31.000Z" itemprop="datePublished">2016-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/The base of java/String-StringBuffer-StringBuilder/">浅析String-StringBuffer-StringBuilder</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考： <a href="http://blog.csdn.net/kingzone_2008/article/details/9220691" target="_blank" rel="external">http://blog.csdn.net/kingzone_2008/article/details/9220691</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/18/The base of java/String-StringBuffer-StringBuilder/" data-id="cioefljhv001tusdgz9skb32n" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-The base of java/HashMap" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/18/The base of java/HashMap/" class="article-date">
  <time datetime="2016-05-18T14:46:54.000Z" itemprop="datePublished">2016-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/The base of java/HashMap/">HashMap使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> lianxi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">lianxix</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashMap&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">		map.put(<span class="string">"yusijia"</span>, <span class="string">"dabai"</span>);</span><br><span class="line">		map.put(<span class="string">"wutongyu"</span>, <span class="string">"datong"</span>);</span><br><span class="line">		map.put(<span class="string">"tong"</span>, <span class="string">"bai"</span>);</span><br><span class="line">		System.out.println(map);</span><br><span class="line">		System.out.println(<span class="string">"datong is in the map? "</span> + map.containsKey(<span class="string">"wutongyu"</span>));</span><br><span class="line">		map.remove(<span class="string">"tong"</span>);</span><br><span class="line">		System.out.println(map);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//返回此映射中所包含的键的 Set 视图。</span></span><br><span class="line">		Iterator it = map.keySet().iterator();<span class="comment">//用迭代器遍历HashMap</span></span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">			String key = (String)it.next();</span><br><span class="line">			System.out.println(<span class="string">"key: "</span> + key);</span><br><span class="line">			System.out.println(<span class="string">"value: "</span> + map.get(key));</span><br><span class="line">			System.out.println(<span class="string">"The hashCode of value: "</span> + map.get(key).hashCode());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(map.size());<span class="comment">//返回此映射中的键-值映射关系数。</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//返回此映射所包含的值的 Collection 视图。</span></span><br><span class="line">		Iterator it2 = map.values().iterator();</span><br><span class="line">		<span class="keyword">while</span>(it2.hasNext())&#123;</span><br><span class="line">			String vaule = (String)it2.next();</span><br><span class="line">			System.out.println(vaule);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/18/The base of java/HashMap/" data-id="cioefljhm001lusdgd7z7s1ze" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-The base of java/ListIterator" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/18/The base of java/ListIterator/" class="article-date">
  <time datetime="2016-05-17T16:09:34.000Z" itemprop="datePublished">2016-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/The base of java/ListIterator/">ListIterator</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">List有专门的迭代器ListIterator，它继承了Iterator接口，但是在其基础上又增加了hasPrevious,prevoius(),add()三个方法.其增加的最主要功能就是可以反向迭代集合</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> lianxi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">lianxix</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span><br><span class="line">	</span>&#123;</span><br><span class="line">		</span><br><span class="line">		List str = <span class="keyword">new</span> ArrayList();</span><br><span class="line">		str.add(<span class="string">"C"</span>);</span><br><span class="line">		str.add(<span class="string">"C++"</span>);</span><br><span class="line">		str.add(<span class="string">"Java"</span>);</span><br><span class="line">		System.out.println(str);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i++)</span><br><span class="line">			System.out.println(str.get(i));</span><br><span class="line">		ListIterator it = str.listIterator();</span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">			System.out.println(it.next());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">		<span class="keyword">while</span>(it.hasPrevious())&#123;</span><br><span class="line">			System.out.println(it.previous());</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[C, C++, Java]</span><br><span class="line">C</span><br><span class="line">C++</span><br><span class="line">Java</span><br><span class="line">C</span><br><span class="line">C++</span><br><span class="line">Java</span><br><span class="line"></span><br><span class="line">Java</span><br><span class="line">C++</span><br><span class="line">C</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/18/The base of java/ListIterator/" data-id="cioefljhj001jusdgh8b7t2q6" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-The base of java/Collection-and-map-and-their-son" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/18/The base of java/Collection-and-map-and-their-son/" class="article-date">
  <time datetime="2016-05-17T16:08:20.000Z" itemprop="datePublished">2016-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/The base of java/Collection-and-map-and-their-son/">Collection和map及其他们的子类</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.csdn.net/lskyne/article/details/8961025" target="_blank" rel="external">http://blog.csdn.net/lskyne/article/details/8961025</a></p>
<p>collection（集合）是一个根接口，用来描述一组对象的集合。JDK并没有直接提供对个接口的实现，而是提供了对她的子接口的实现例如set和list等。在collection接口中用的最多的两种基本方法是：add和 Iterator。add是把对象添加到相应的数据结构中，如果成功返回true，否则返回false（集合中不能拥有相同的元素）。而Iterator 方法则返回一个Iterator接口的对象。Iterator接口又包括了三种基本操作：next，hasnext，remove。next用来依次访问数据结构中的元素，hasnext用来判断是否还有没有访问的元素，remove用来删除最后一次调用next返回的对象。<br>　　<br>　　Collection　一个允许重复元素的无序集合。<br>　　Set　一个不允许元素重复的无序集合。<br>　　List　有序集合，多数情况下允许元素重复，可按位置访问，扩展自Collection。<br>　　Map　Key-Value映射。<br>　　SortedSet　元素自动排序的集合，既可以使用默认的排序算法，也可以指定其它的排序算法。<br>　　SortedMap　有序的Key-Value映射，既可以使用默认的按Key值排序算法，也可以指定其它的排序算法。<br>　　List是collection的子接口，她是一种有序的集合（队列）。通过他可以精确的控制访问数据结构的顺序和位置。<br>　　set也是collection的子接口，她是一种无序、散列的集合（哈西表）。通过他可以快速查找他的数据结构而不需要知道具体的排列方式。<br>　　map（映射）是一个“键-值”对应的接口。每一个键只能映射唯一的值。<br>　　还有些其他子接口及实现类可以参考 <a href="http://java.sun.com/j2se/1.4/docs/api/" target="_blank" rel="external">http://java.sun.com/j2se/1.4/docs/api/</a><br>　　至于具体选用哪一种方案，以下仅供参考：<br>　　1）大量的随机访问可以用ArrayList类<br>　　2）大量的插入、删除建议用LinkedList类<br>　　3）关于Set，建议都使用HashSet类<br>　　4）映射的最佳策略是创建和填充时用TreeMap日后需要大量检索时再转换成HashMap</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/18/The base of java/Collection-and-map-and-their-son/" data-id="cioefljha001eusdg2eh21z9i" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-The base of java/Collections" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/18/The base of java/Collections/" class="article-date">
  <time datetime="2016-05-17T16:04:47.000Z" itemprop="datePublished">2016-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/The base of java/Collections/">Collections</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Collections则是集合类的一个工具类/帮助类，其中提供了一系列静态方法，用于对集合中元素进行排序、搜索以及线程安全等各种操作。</p>
<ol>
<li>工具类collections用于操作集合类，如List,Set,常用方法有：<br>1） 排序（Sort）<br>使用sort方法可以根据元素的自然顺序 对指定列表按升序进行排序。列表中的所有元素都必须实现 Comparable 接口。此列表内的所有元素都必须是使用指定比较器可相互比较的</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line">Collections.sort(list);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">System.out.println(li.get(i));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果：112,111,23,456,231</span></span><br></pre></td></tr></table></figure>
<p>2） 混排（Shuffling）<br>混排算法所做的正好与 sort 相反： 它打乱在一个 List 中可能有的任何排列的踪迹。也就是说，基于随机源的输入重排该 List，这样的排列具有相同的可能性（假设随机源是公正的）。这个算法在实现一个碰运气的游戏中是非常有用的。例如，它可被用来混排代表一副牌的 Card 对象的一个 List .另外，在生成测试案例时，它也是十分有用的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Collections.Shuffling(list)</span><br><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line">Collections.shuffle(list);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">System.out.println(li.get(i));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果：112,111,23,456,231</span></span><br></pre></td></tr></table></figure>
<p>3） 反转（Reverse）<br>使用Reverse方法可以根据元素的自然顺序 对指定列表按降序进行排序。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Collections.reverse(list)</span><br><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line">Collections. reverse (list);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">System.out.println(li.get(i));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果：231,456,23,111,112</span></span><br></pre></td></tr></table></figure></p>
<p>4） 替换所有的元素（Fill）<br>使用指定元素替换指定列表中的所有元素。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String str[] = &#123;<span class="string">"dd"</span>,<span class="string">"aa"</span>,<span class="string">"bb"</span>,<span class="string">"cc"</span>,<span class="string">"ee"</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j</span><br><span class="line">li.add(<span class="keyword">new</span> String(str[j]));</span><br><span class="line">&#125;</span><br><span class="line">Collections.fill(li,<span class="string">"aaa"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; li.size(); i++) &#123;</span><br><span class="line">System.out.println(<span class="string">"list["</span> + i + <span class="string">"]="</span> + li.get(i));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果：aaa,aaa,aaa,aaa,aaa</span></span><br></pre></td></tr></table></figure></p>
<p>5） 拷贝（Copy）<br>用两个参数，一个目标 List 和一个源 List， 将源的元素拷贝到目标，并覆盖它的内容。目标 List 至少与源一样长。如果它更长，则在目标 List 中的剩余元素不受影响。<br>Collections.copy（list，li）： 后面一个参数是目标列表 ，前一个是源列表<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">List li = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">double</span> arr[] = &#123;<span class="number">1131</span>,<span class="number">333</span>&#125;;</span><br><span class="line">String str[] = &#123;<span class="string">"dd"</span>,<span class="string">"aa"</span>,<span class="string">"bb"</span>,<span class="string">"cc"</span>,<span class="string">"ee"</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j</span><br><span class="line">li.add(<span class="keyword">new</span> Double(arr[j]));</span><br><span class="line">&#125;</span><br><span class="line">Collections.copy(list,li);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i</span><br><span class="line">System.out.println(<span class="string">"list["</span> + i + <span class="string">"]="</span> + list.get(i));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果：1131,333,23,456,231</span></span><br></pre></td></tr></table></figure></p>
<p>6） 返回Collections中最小元素（min）<br>根据指定比较器产生的顺序，返回给定 collection 的最小元素。collection 中的所有元素都必须是通过指定比较器可相互比较的<br>Collections.min(list)<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line">Collections.min(list);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i</span><br><span class="line">System.out.println(<span class="string">"list["</span> + i + <span class="string">"]="</span> + list.get(i));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果：23</span></span><br></pre></td></tr></table></figure></p>
<p>7） 返回Collections中最大元素（max）<br>根据指定比较器产生的顺序，返回给定 collection 的最大元素。collection 中的所有元素都必须是通过指定比较器可相互比较的<br>Collections.max(list)<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line">Collections.max(list);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i</span><br><span class="line">System.out.println(<span class="string">"list["</span> + i + <span class="string">"]="</span> + list.get(i));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果：456</span></span><br></pre></td></tr></table></figure></p>
<p>8） lastIndexOfSubList<br>返回指定源列表中最后一次出现指定目标列表的起始位置，即按从后到前的顺序返回子List在父List中的索引位置。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = Collections.lastIndexOfSubList(list,li);</span><br><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">List li = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">double</span> arr[] = &#123;<span class="number">111</span>&#125;;</span><br><span class="line">String str[] = &#123;<span class="string">"dd"</span>,<span class="string">"aa"</span>,<span class="string">"bb"</span>,<span class="string">"cc"</span>,<span class="string">"ee"</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j</span><br><span class="line">li.add(<span class="keyword">new</span> Double(arr[j]));</span><br><span class="line">&#125;</span><br><span class="line">Int locations = Collections. lastIndexOfSubList (list,li);</span><br><span class="line">System.out.println(“===”+ locations);</span><br><span class="line"><span class="comment">//结果 3</span></span><br></pre></td></tr></table></figure></p>
<p>9） IndexOfSubList<br>返回指定源列表中第一次出现指定目标列表的起始位置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = Collections.indexOfSubList(list,li);</span><br><span class="line"><span class="keyword">double</span> array[] = &#123;<span class="number">112</span>, <span class="number">111</span>, <span class="number">23</span>, <span class="number">456</span>, <span class="number">231</span> &#125;;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">List li = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">list.add(<span class="keyword">new</span> Double(array[i]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">double</span> arr[] = &#123;<span class="number">111</span>&#125;;</span><br><span class="line">String str[] = &#123;<span class="string">"dd"</span>,<span class="string">"aa"</span>,<span class="string">"bb"</span>,<span class="string">"cc"</span>,<span class="string">"ee"</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j</span><br><span class="line">li.add(<span class="keyword">new</span> Double(arr[j]));</span><br><span class="line">&#125;</span><br><span class="line">Int locations = Collections.indexOfSubList(list,li);</span><br><span class="line">System.out.println(“===”+ locations);</span><br><span class="line"><span class="comment">//结果 1</span></span><br></pre></td></tr></table></figure>
<p>10） Rotate<br>根据指定的距离循环移动指定列表中的元素<br>Collections.rotate（list，-1）；<br>如果是负数，则正向移动，正数则方向移动<br>double array[] = {112, 111, 23, 456, 231 };<br>List list = new ArrayList();<br>for (int i = 0; i &lt; array.length; i++) {<br>list.add(new Double(array[i]));<br>}<br>Collections.rotate(list,-1);<br>for (int i = 0; i<br>System.out.println(“list[“ + i + “]=” + list.get(i));<br>}<br>//结果：111,23,456,231,112<br>11)static int binarySearch(List list,Object key)<br>   使用二分搜索查找key对象的索引值，因为使用的二分查找，所以前提是必须有序。<br>12)static Object max(Collection coll)<br>   根据元素自然顺序，返回集合中的最大元素<br>13)static Object max(Collection coll,Compare comp)<br>   根据Comparator指定的顺序，返回给定集合中的最小元素<br>14)static Object min(Collection coll)<br>   根据元素自然顺序，返回集合中的最大元素<br>15)static Object min(Collection coll,Compare comp)<br>   根据Comparator指定的顺序，返回给定集合中的最小元素<br>16）static void fill(List list,Object obj)<br>   使用指定元素替换指定集合中的所有元素<br>17）static int frequency(Collection c,Object o)<br>   返回指定元素在集合中出现在次数<br>18）static int indexOfSubList(List source, List target)<br>   返回子List对象在父List对象中第一次出现的位置索引； 如果父List中没有出现这样的子List，则返回-1<br>19）static int lastIndexOfSubList(List source,List target)<br>   返回子List对象在父List对象中最后一次出现的位置索引，如果父List中没有出现这样的子List，刚返回-1<br>20）static boolean replaceAll(List list,Object oldVal,Object newVal)<br>  使用一个新值newVal替换List对象所有旧值oldVal<br>21）synchronizedXXX(new XXX)<br>      Collections类为集合类们提供的同步控制方法</p>
<p>public class SynchronizedTest<br>{<br>      public static void main(String[] args){<br>            Collection collection = Collections.synchronizedCollections(new ArrayList());<br>            List list = Collections.synchronizedList(new ArrayList());<br>            Set s = Collections.synchronizedSet(new HashSet());<br>            Map s = Collections.synchronizedMap(new HashMap()):<br>      }<br>}<br>22)emptyXXX()<br>   返回一个空的、不可变的集合对象，此处的集合既可以是List，也可以是Set,还可以是Map。<br>23）singletonXXX()<br>   返回一个只包含指定对象（只有一个或一项元素）的、不可变的集合对象，此处集合既可以是List,也可以是Set,还可以是Map。<br>24）unmodificableXXX()<br>   指定返回集合对象的不可变视图，此处的集合既可以是Lsit,也可以是Set,Map</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/18/The base of java/Collections/" data-id="cioefljhh001gusdgksugv4e7" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图床/">图床</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/常用/">常用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-二叉搜索树/">数据结构-二叉搜索树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-二叉树/">数据结构-二叉树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-双向链表/">数据结构-双向链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-图论基础/">数据结构-图论-图论基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-拓扑排序/">数据结构-图论-拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最小生成树/">数据结构-图论-最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最小生成树-kruskal/">数据结构-图论-最小生成树-kruskal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最小生成树-prime/">数据结构-图论-最小生成树-prime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最短路-Dijsktra/">数据结构-图论-最短路-Dijsktra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最短路-SPFA/">数据结构-图论-最短路-SPFA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最短路-floyd/">数据结构-图论-最短路-floyd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-链式前向星/">数据结构-图论-链式前向星</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-字典树/">数据结构-字典树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-循环链表/">数据结构-循环链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-栈/">数据结构-栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-树状数组/">数据结构-树状数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-链表/">数据结构-链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-队列/">数据结构-队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模拟/">模拟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/水题/">水题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-Insersion-Sort-插入排序/">算法-Insersion Sort(插入排序)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-binary-search-二分查找/">算法-binary search(二分查找)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-qmul-快速乘/">算法-qmul(快速乘)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-qpow-快速幂/">算法-qpow(快速幂)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-qsort（快速排序）/">算法-qsort（快速排序）</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-位向量法/">算法-位向量法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-全排列/">算法-全排列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-动态规划/">算法-动态规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-动态规划-按位dp/">算法-动态规划-按位dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-回溯法/">算法-回溯法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-图论-差分约束/">算法-图论-差分约束</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-图论-广度优先搜索/">算法-图论-广度优先搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-图论-深度优先搜索/">算法-图论-深度优先搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-尺取法/">算法-尺取法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-卡特兰数/">算法-数论-卡特兰数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-同余定理/">算法-数论-同余定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-欧几里得/">算法-数论-欧几里得</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-素数筛选法/">算法-数论-素数筛选法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-费马小定理/">算法-数论-费马小定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-映射/">算法-映射</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-枚举/">算法-枚举</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-标记-查表思想/">算法-标记,查表思想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-离散化/">算法-离散化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-贪心/">算法-贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-输入挂和输出挂/">算法-输入挂和输出挂</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-预处理思想/">算法-预处理思想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语言-C/">语言-C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆序对/">逆序对</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高级数据结构-并查集/">高级数据结构-并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高级数据结构-线段树/">高级数据结构-线段树</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/图床/" style="font-size: 10px;">图床</a> <a href="/tags/常用/" style="font-size: 15px;">常用</a> <a href="/tags/数据结构-二叉搜索树/" style="font-size: 11px;">数据结构-二叉搜索树</a> <a href="/tags/数据结构-二叉树/" style="font-size: 11px;">数据结构-二叉树</a> <a href="/tags/数据结构-双向链表/" style="font-size: 10px;">数据结构-双向链表</a> <a href="/tags/数据结构-图论-图论基础/" style="font-size: 15px;">数据结构-图论-图论基础</a> <a href="/tags/数据结构-图论-拓扑排序/" style="font-size: 11px;">数据结构-图论-拓扑排序</a> <a href="/tags/数据结构-图论-最小生成树/" style="font-size: 10px;">数据结构-图论-最小生成树</a> <a href="/tags/数据结构-图论-最小生成树-kruskal/" style="font-size: 15px;">数据结构-图论-最小生成树-kruskal</a> <a href="/tags/数据结构-图论-最小生成树-prime/" style="font-size: 13px;">数据结构-图论-最小生成树-prime</a> <a href="/tags/数据结构-图论-最短路-Dijsktra/" style="font-size: 10px;">数据结构-图论-最短路-Dijsktra</a> <a href="/tags/数据结构-图论-最短路-SPFA/" style="font-size: 10px;">数据结构-图论-最短路-SPFA</a> <a href="/tags/数据结构-图论-最短路-floyd/" style="font-size: 14px;">数据结构-图论-最短路-floyd</a> <a href="/tags/数据结构-图论-链式前向星/" style="font-size: 12px;">数据结构-图论-链式前向星</a> <a href="/tags/数据结构-字典树/" style="font-size: 14px;">数据结构-字典树</a> <a href="/tags/数据结构-循环链表/" style="font-size: 10px;">数据结构-循环链表</a> <a href="/tags/数据结构-栈/" style="font-size: 16px;">数据结构-栈</a> <a href="/tags/数据结构-树状数组/" style="font-size: 14px;">数据结构-树状数组</a> <a href="/tags/数据结构-链表/" style="font-size: 10px;">数据结构-链表</a> <a href="/tags/数据结构-队列/" style="font-size: 12px;">数据结构-队列</a> <a href="/tags/模拟/" style="font-size: 12px;">模拟</a> <a href="/tags/水题/" style="font-size: 19px;">水题</a> <a href="/tags/算法-Insersion-Sort-插入排序/" style="font-size: 10px;">算法-Insersion Sort(插入排序)</a> <a href="/tags/算法-binary-search-二分查找/" style="font-size: 12px;">算法-binary search(二分查找)</a> <a href="/tags/算法-qmul-快速乘/" style="font-size: 11px;">算法-qmul(快速乘)</a> <a href="/tags/算法-qpow-快速幂/" style="font-size: 12px;">算法-qpow(快速幂)</a> <a href="/tags/算法-qsort（快速排序）/" style="font-size: 14px;">算法-qsort（快速排序）</a> <a href="/tags/算法-位向量法/" style="font-size: 11px;">算法-位向量法</a> <a href="/tags/算法-全排列/" style="font-size: 15px;">算法-全排列</a> <a href="/tags/算法-动态规划/" style="font-size: 18px;">算法-动态规划</a> <a href="/tags/算法-动态规划-按位dp/" style="font-size: 11px;">算法-动态规划-按位dp</a> <a href="/tags/算法-回溯法/" style="font-size: 18px;">算法-回溯法</a> <a href="/tags/算法-图论-差分约束/" style="font-size: 10px;">算法-图论-差分约束</a> <a href="/tags/算法-图论-广度优先搜索/" style="font-size: 13px;">算法-图论-广度优先搜索</a> <a href="/tags/算法-图论-深度优先搜索/" style="font-size: 12px;">算法-图论-深度优先搜索</a> <a href="/tags/算法-尺取法/" style="font-size: 11px;">算法-尺取法</a> <a href="/tags/算法-数论-卡特兰数/" style="font-size: 10px;">算法-数论-卡特兰数</a> <a href="/tags/算法-数论-同余定理/" style="font-size: 13px;">算法-数论-同余定理</a> <a href="/tags/算法-数论-欧几里得/" style="font-size: 11px;">算法-数论-欧几里得</a> <a href="/tags/算法-数论-素数筛选法/" style="font-size: 12px;">算法-数论-素数筛选法</a> <a href="/tags/算法-数论-费马小定理/" style="font-size: 12px;">算法-数论-费马小定理</a> <a href="/tags/算法-映射/" style="font-size: 12px;">算法-映射</a> <a href="/tags/算法-枚举/" style="font-size: 11px;">算法-枚举</a> <a href="/tags/算法-标记-查表思想/" style="font-size: 17px;">算法-标记,查表思想</a> <a href="/tags/算法-离散化/" style="font-size: 13px;">算法-离散化</a> <a href="/tags/算法-贪心/" style="font-size: 11px;">算法-贪心</a> <a href="/tags/算法-输入挂和输出挂/" style="font-size: 10px;">算法-输入挂和输出挂</a> <a href="/tags/算法-预处理思想/" style="font-size: 10px;">算法-预处理思想</a> <a href="/tags/语言-C/" style="font-size: 10px;">语言-C++</a> <a href="/tags/语言-java基础知识/" style="font-size: 20px;">语言-java基础知识</a> <a href="/tags/逆序对/" style="font-size: 13px;">逆序对</a> <a href="/tags/高级数据结构-并查集/" style="font-size: 14px;">高级数据结构-并查集</a> <a href="/tags/高级数据结构-线段树/" style="font-size: 17px;">高级数据结构-线段树</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/19/copy/">浅拷贝和深拷贝</a>
          </li>
        
          <li>
            <a href="/2016/05/19/RTTI-2/">RTTI总结</a>
          </li>
        
          <li>
            <a href="/2016/05/19/RTTI-1/">初识RTTI</a>
          </li>
        
          <li>
            <a href="/2016/05/18/The base of java/Override-and-Overload/">Override and Overload</a>
          </li>
        
          <li>
            <a href="/2016/05/18/The base of java/String-StringBuffer-StringBuilder-1/">深度理解String-StringBuffer-StringBuilder</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 John Doe<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>