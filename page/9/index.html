<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>yusijia&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="yusijia's blog">
<meta property="og:url" content="http://yoursite.com/page/9/index.html">
<meta property="og:site_name" content="yusijia's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="yusijia's blog">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="yusijia&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">yusijia&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-The base of java/The-base-of-java" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/The base of java/The-base-of-java/" class="article-date">
  <time datetime="2016-05-04T15:26:18.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/The base of java/The-base-of-java/">java学习笔记1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>总结自：《Thinking in java》</p>
<p>1.创建一个对象引用会初始化为null，使用任何引用前，必须为其指定一个对象；<br>一种安全的做法是：创建一个引用的同时便进行初始化。</p>
<ol>
<li>java的对象引用创建在堆栈上。</li>
<li>java中的对象创建在堆上。</li>
<li>对于基本类型，java采取和c和c++相同的方法，也就是不用new来创建变量，而是创建一个<br>并非引用的“自动变量”，这个变量直接存储“值”，并置于堆栈中，因此更加高效</li>
<li>java的char是16位的，最大值为2^16 - 1,最小值为0，为了支持unicode</li>
<li><p>基本类型都有包装器类，使得可以在堆上创建一个非基本对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">例：<span class="keyword">char</span> c = <span class="string">'x'</span>;</span><br><span class="line">    Character ch = <span class="keyword">new</span> Character(<span class="string">'x'</span>);</span><br><span class="line">也可以自动包装：</span><br><span class="line">Character ch = <span class="string">'x'</span>;</span><br><span class="line">也可以反向转换：</span><br><span class="line"><span class="keyword">char</span> c = ch;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在java中，下面这段会报错x已经定义过了。java不允许将较大作用于的变量“隐藏”，<br>因为设计者认为这样会导致程序混乱</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">12</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">96</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>java对象不具备和基本类型一样的生命周几，当用new创建一个java对象时，他可以存活<br>于作用于之外。</p>
</li>
<li><p>引用s在作用域终点就消失了，然而s指向的String对象仍继续占据内存空间</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	String s = <span class="keyword">new</span> String(<span class="string">"asd"</span>);</span><br><span class="line">&#125;</span><br><span class="line">s = <span class="string">"123"</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>类的某个成员是基本数据类型，即使没有进行初始化，java也会确保他获得一个默认值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span>：<span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">byte</span>: (<span class="keyword">byte</span>)<span class="number">0</span></span><br><span class="line"><span class="keyword">char</span>: <span class="string">'\u0000'</span>(<span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">int</span>: <span class="number">0</span></span><br><span class="line"><span class="keyword">long</span>: <span class="number">0L</span></span><br><span class="line"><span class="keyword">short</span>: (<span class="keyword">short</span>)<span class="number">0</span></span><br><span class="line"><span class="keyword">float</span>: <span class="number">0.0f</span></span><br><span class="line"><span class="keyword">double</span>: <span class="number">0.0</span>d</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>建议：使用前明确的给它初始化<br><strong> 然而对于“局部变量”(即并非某个类的字段)可能会是任意值 </strong></p>
<p>11.<strong>类的名字必须和文件名相同。</strong>类名用大峰驼，其他用小峰驼。</p>
<p>12.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Integer n1 = <span class="keyword">new</span> Integer(<span class="number">47</span>);</span><br><span class="line">Integer n2 = <span class="keyword">new</span> Integer(<span class="number">47</span>);</span><br><span class="line">		</span><br><span class="line">System.out.println(n1 == n2);</span><br><span class="line">System.out.println(n1 != n2);</span><br><span class="line"></span><br><span class="line">System.out.println(n1.equals(n2));</span><br><span class="line">输出：</span><br><span class="line">False</span><br><span class="line">True</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
<p><strong>用于对象时</strong>对象用==和!=时比较的是对象的引用，所以先false再true，要比较两个对象的实际内容是否相同要用equals()方法</p>
<p>13.<strong>基本类型直接使用==和!=比较</strong><br>“==”用于比较引用和比较基本数据类型时具有不同的功能：<br>　　          比较基本数据类型，如果两个值相同，则结果为true ,而在比较引用时，如果引用指向内存中的同一对象，结果为true.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Object下的Eauals原始方法:</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	  <span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>14.<strong>与c和c++不同的是：在java中不可以将一个非布尔值当作布尔值在逻辑表达式中使用。</strong><br>int i = 1;<br>int j = 2;<br>System.out.println(i &amp;&amp; j);<br>在c和c++中(i &amp;&amp; j) 的值为true，i不等于0且j不等于0</p>
<p>15.后缀：<br>大写或小写：<br>L : long<br>F : float<br>D : double<br>十六进制数适用于所有整数数据类型，以前缀0x(或0X)，后边跟0-9或小写(或大写)的a-f来表示。<br>类似的八进制用前缀0以及后续的0-7的数组来表示。</p>
<p>16.java中的左移(&lt;&lt;)在低位补0，<br>Java中的右移(&gt;&gt;)：若符号为正，则在高位插入0；若符号为负，则在高位插入1<br>Java中的无符号右移(&gt;&gt;&gt;)无论正负都在高位插入0<br><strong>注意java 中没有&lt;&lt;&lt;</strong></p>
<p>17.无符号右移运算符&gt;&gt;&gt; 只是对32位和64位的值有意义,如果是byte或short值他们先被转换为int类型，再进行右移操作，然后被截断，赋值给原来的类型，在这种情况下可能得到的结果是-1</p>
<p>18.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">1</span>, z = <span class="number">2</span>;</span><br><span class="line">		String s = <span class="string">"x, y, z "</span>;</span><br><span class="line">		System.out.println(s + x + y + z);</span><br><span class="line">		System.out.println(x + <span class="string">" "</span> + s);</span><br><span class="line">		s += <span class="string">"(summed) = "</span>;</span><br><span class="line">		System.out.println(s + (x + y + z));</span><br><span class="line">		System.out.println(<span class="string">""</span> + x);</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">x, y, z <span class="number">012</span></span><br><span class="line"><span class="number">0</span> x, y, z </span><br><span class="line">x, y, z (summed) = <span class="number">3</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>Java的字符串操作符有一些很有趣的行为，如果表达式以一个字符串起头，那么后续所有操作数都必须是字符串型</p>
</li>
<li><p>倒数第二个例子：<strong>用括号来控制表达式的赋值顺序</strong>，以便int类型的变量在显示之前确实进行了求和操作</p>
</li>
<li><p>最后一个例子，有时会看到这种一个空的String后面跟随+和一个基本类型变量，以此作为不调用更加麻烦的显式方法(例如: Integer.toString())而执行字符串转换的方式</p>
</li>
</ul>
<p>19.java不会自动地将int数值转换成布尔值所以不能像c和c++这么用while(T–)，而要改为：while(T—- &gt; 0)</p>
<p>20.如果对基本数据类型执行算数运算或按位运算，大家会发现，<strong>只要数据类型比int小(即char，byte，short)，那么在运算之前，这些值会自动转换成int，</strong>这样一来最终生成的结果就是int类型，如果想把结果赋值给较小的类型，就必须使用类型的转换，可能会有信息丢失</p>
<p>21.java里没有sizeof()</p>
<p>22.注意，能够对布尔型值进行的运算非常有限，我们只能赋给它true和false值，并测试它为真还是假，而不能将布尔值相加，或对布尔值进行其他任何运算</p>
<p>23.带标签的continue会到达标签的位置，并重新进入紧接在那个标签后面的循环，带标签的break会中断并跳出标签所指的循环。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">label1 :</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">7</span>; i++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">7</span>; j++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(i == <span class="number">2</span> &amp;&amp; j == <span class="number">2</span>)</span><br><span class="line">			<span class="keyword">continue</span> label1;</span><br><span class="line">		<span class="keyword">if</span>(i == <span class="number">3</span> &amp;&amp; j == <span class="number">3</span>)</span><br><span class="line">			<span class="keyword">break</span> label1;</span><br><span class="line">		System.out.println(<span class="string">"i: "</span> + i + <span class="string">" "</span> + <span class="string">"j: "</span> + j);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"hello world!"</span>);</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">i: <span class="number">1</span> j: <span class="number">1</span></span><br><span class="line">i: <span class="number">1</span> j: <span class="number">2</span></span><br><span class="line">i: <span class="number">1</span> j: <span class="number">3</span></span><br><span class="line">i: <span class="number">1</span> j: <span class="number">4</span></span><br><span class="line">i: <span class="number">1</span> j: <span class="number">5</span></span><br><span class="line">i: <span class="number">1</span> j: <span class="number">6</span></span><br><span class="line">i: <span class="number">1</span> j: <span class="number">7</span></span><br><span class="line">i: <span class="number">2</span> j: <span class="number">1</span></span><br><span class="line">i: <span class="number">3</span> j: <span class="number">1</span></span><br><span class="line">i: <span class="number">3</span> j: <span class="number">2</span></span><br><span class="line">hello world!</span><br></pre></td></tr></table></figure></p>
<p>24.switch语句中：必要时，可在各个case中使用{}来明确产生独立的复合语句。<br>case 分支可以不使用｛｝，并不是任何情况下case分支都可以不加{}，比如你想在某个case里定义一个变量：switch (formWay)<br>{<br>   case 1 :<br>　｛　<br>     int a=2;  //正确，变量a被明确限定在当前｛｝范围内。<br>     …<br> 　｝　<br>   case 2 :<br>     …<br>}</p>
<p>25.在Java7之前，switch只能支持 byte、short、char、int或者其对应的封装类以及Enum类型。<strong>在Java7中，呼吁很久的String支持也终于被加上了。</strong></p>
<p>26.不接受任何参数的构造器叫做默认构造器</p>
<p>27.不能根据返回值来区分重载方法</p>
<p>28.如果在方法内部调用同一个类的另一个方法，就不必使用this，直接调用即可。</p>
<p>29.尽管可以用this调用一个构造器，但却不能调用两个，此外必须将构造器调用置于最起始处，否则编译器会报错</p>
<p>30.除构造器之外，编译器禁止在其他任何方法中调用构造器</p>
<p>31.垃圾回收器只知道释放那些经由new分配的内存。</p>
<p>32.初始化顺序：<br>　　静态初始化只有在必要时刻才会进行，如果不创建相应类的对象，或不调用静态方法时，则不会初始化。<br>先初始化静态对象，在类的内部，变量定义的先后顺序决定了初始化的顺序，即使变量定义散布于方法定义之间，它们仍旧会在任何方法（包括构造器）被调用之前得到初始化。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span></span>&#123;</span><br><span class="line">	Window(<span class="keyword">int</span> mark) &#123; System.out.println(<span class="string">"Window("</span> + mark + <span class="string">")"</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Houses</span></span>&#123;</span><br><span class="line">	Window w1 = <span class="keyword">new</span> Window(<span class="number">1</span>);</span><br><span class="line">	Houses()&#123;</span><br><span class="line">		System.out.println(<span class="string">"House()"</span>);</span><br><span class="line">		w3 = <span class="keyword">new</span> Window(<span class="number">33</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	Window w2 = <span class="keyword">new</span> Window(<span class="number">2</span>);</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"f()"</span>);&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"static&#123;&#125;"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span></span>&#123;			<span class="comment">//没有调用该静态方法，所以没有初始化它</span></span><br><span class="line">		System.out.println(<span class="string">"static void g()"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	Window w3 = <span class="keyword">new</span> Window(<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">lianxix</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span><br><span class="line">	</span>&#123;</span><br><span class="line">		Houses h = <span class="keyword">new</span> Houses();</span><br><span class="line">		h.f();</span><br><span class="line">		<span class="comment">//System.out.println("hello");</span></span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line">输出：</span><br><span class="line"><span class="keyword">static</span>&#123;&#125;</span><br><span class="line">Window(<span class="number">1</span>)</span><br><span class="line">Window(<span class="number">2</span>)</span><br><span class="line">Window(<span class="number">3</span>)</span><br><span class="line">House()</span><br><span class="line">Window(<span class="number">33</span>)</span><br><span class="line">f()</span><br></pre></td></tr></table></figure>
<p>33.<strong>编译器不允许指定数组大小</strong><br>数组的初始化：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a, b;<span class="comment">//创建引用数组</span></span><br><span class="line">Random rand = <span class="keyword">new</span> Random(<span class="number">47</span>);</span><br><span class="line">a = <span class="keyword">new</span> <span class="keyword">int</span>[rand.nextInt(<span class="number">20</span>)];<span class="comment">//基本数据类型(int)的数组的元素初始化为0 </span></span><br><span class="line">System.out.println(<span class="string">"The length: "</span> + a.length);</span><br><span class="line">System.out.println(Arrays.toString(a));</span><br><span class="line"></span><br><span class="line">b = <span class="keyword">new</span> <span class="keyword">int</span>[rand.nextInt(<span class="number">20</span>)];</span><br><span class="line">System.out.println(<span class="string">"The length: "</span> + b.length);</span><br><span class="line">System.out.println(Arrays.toString(b));</span><br><span class="line"></span><br><span class="line">Integer[] c, d;<span class="comment">//创建引用数组//引用数组的元素初始化为null</span></span><br><span class="line">c = <span class="keyword">new</span> Integer[rand.nextInt(<span class="number">20</span>)];</span><br><span class="line">System.out.println(<span class="string">"The length: "</span> + c.length);</span><br><span class="line">System.out.println(Arrays.toString(c));</span><br><span class="line"></span><br><span class="line">d = <span class="keyword">new</span> Integer[rand.nextInt(<span class="number">20</span>)];</span><br><span class="line">System.out.println(<span class="string">"The length: "</span> + d.length);</span><br><span class="line">System.out.println(Arrays.toString(d));</span><br></pre></td></tr></table></figure>
<p>34.在编译单元内可以有一个public类，<strong>该类的名称必须与文件的名称相同，每个编译单元只能有一个public类</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/The base of java/The-base-of-java/" data-id="cioa699q10017y4dg9hnk2dru" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-常用/input-and-output" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/常用/input-and-output/" class="article-date">
  <time datetime="2016-05-04T12:49:27.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/常用/input-and-output/">输入，输出挂</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>这个是针对于纯数字的输入</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">输入外挂</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">readint</span><span class="params">()</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>, ch, flag = <span class="number">0</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span>((ch = getchar()) == <span class="string">'-'</span>)             <span class="comment">//判断正负  </span></span><br><span class="line">        flag = <span class="number">1</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)           <span class="comment">//得到完整的数  </span></span><br><span class="line">        res = ch - <span class="string">'0'</span>;  </span><br><span class="line">    <span class="keyword">while</span>((ch = getchar()) &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span> )  </span><br><span class="line">        res = res * <span class="number">10</span> + ch - <span class="string">'0'</span>;  </span><br><span class="line">  </span><br><span class="line">    return flag ? -res : res;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出外挂</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> buf[<span class="number">100</span>];        <span class="comment">//声明成全局变量可以减小开销</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">writeint</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span>(i == <span class="number">0</span>)</span><br><span class="line">    p++;   <span class="comment">//特殊情况：i等于0的时候需要输出0，而不是什么也不输出</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">while</span>(i)&#123;</span><br><span class="line">        buf[p++] = i % <span class="number">10</span>;</span><br><span class="line">        i /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> j = p<span class="number">-1</span>; j &gt;=<span class="number">0</span>; j--)</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">'0'</span> + buf[j]); <span class="comment">//逆序输出</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/常用/input-and-output/" data-id="cioa699wz0078y4dgpb2wwx6v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法-输入挂和输出挂/">算法-输入挂和输出挂</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-binary tree/binary-tree" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/binary tree/binary-tree/" class="article-date">
  <time datetime="2016-05-04T08:33:52.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/binary tree/binary-tree/">二叉树的基本操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>话不多说，直接上代码，解释都在代码里</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">## 测试用例：</span></span><br><span class="line">A B C <span class="meta"># # D E # G # # F # # # </span></span><br><span class="line"></span><br><span class="line">                A</span><br><span class="line">              /</span><br><span class="line">            B</span><br><span class="line">          /   \</span><br><span class="line">        C       D</span><br><span class="line">              /   \</span><br><span class="line">            E       F</span><br><span class="line">              \</span><br><span class="line">                G</span><br><span class="line"></span><br><span class="line"><span class="meta">## 测试结果：</span></span><br><span class="line">xianxu: </span><br><span class="line">A B C D E G F </span><br><span class="line">zhongxu:</span><br><span class="line">C B E G D F A </span><br><span class="line">houxu:</span><br><span class="line">C G E F D B A </span><br><span class="line"><span class="comment">/////////////</span></span><br><span class="line">ceng ci:</span><br><span class="line">A <span class="number">5</span></span><br><span class="line">B <span class="number">4</span></span><br><span class="line">C <span class="number">1</span></span><br><span class="line">D <span class="number">3</span></span><br><span class="line">E <span class="number">2</span></span><br><span class="line">F <span class="number">1</span></span><br><span class="line">G <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> build_node&#123;                      <span class="comment">//二叉树节点</span></span><br><span class="line">    <span class="keyword">char</span> data;                          <span class="comment">//用户数据</span></span><br><span class="line">    build_node *lchild, *rchild;        <span class="comment">//左孩子和右孩子</span></span><br><span class="line">    <span class="keyword">int</span> level;                          <span class="comment">//高度</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">creat_tree</span><span class="params">(build_node **T)</span></span>&#123;         <span class="comment">//要修改一级指针指向值，所以用二级指针</span></span><br><span class="line">    <span class="keyword">char</span> data;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;data);</span><br><span class="line">    <span class="keyword">if</span>(data == <span class="string">'#'</span>)&#123;</span><br><span class="line">        (*T) = <span class="literal">NULL</span>;                    <span class="comment">//注意这里是二级指针里的值为NULL</span></span><br><span class="line">        return <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        (*T) = (build_node *)<span class="built_in">malloc</span>(sizeof(build_node));</span><br><span class="line">        (*T)-&gt;data = data;</span><br><span class="line">        creat_tree(&amp;(*T)-&gt;lchild);</span><br><span class="line">        creat_tree(&amp;(*T)-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(build_node *T)</span>               <span class="comment">//不修改里面的值，直接值传递</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T-&gt;data != <span class="string">'#'</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c "</span>, T-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1先序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">(build_node *T)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        visit(T);</span><br><span class="line">        preorder(T-&gt;lchild);</span><br><span class="line">        preorder(T-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2中序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorder</span><span class="params">(build_node *T)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        inorder(T-&gt;lchild);</span><br><span class="line">        visit(T);</span><br><span class="line">        inorder(T-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3后序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postorder</span><span class="params">(build_node *T)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        postorder(T-&gt;lchild);</span><br><span class="line">        postorder(T-&gt;rchild);</span><br><span class="line">        visit(T);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4层次遍历,其实就是广度优先搜索</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">levelorder</span><span class="params">(build_node *T)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span> &lt;build_node *&gt; que;</span><br><span class="line">    que.push(T);                        <span class="comment">//根节点入队</span></span><br><span class="line">    build_node *p = T;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;                <span class="comment">//如果队列不空</span></span><br><span class="line">        p = que.front();                <span class="comment">//对头元素出队</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c %d\n"</span>, p-&gt;data, p-&gt;level);         <span class="comment">//访问内容</span></span><br><span class="line">        que.pop();                      <span class="comment">//退出队列</span></span><br><span class="line">        <span class="keyword">if</span>(p-&gt;lchild != <span class="literal">NULL</span>)           <span class="comment">//左子树不空，将左子树入队</span></span><br><span class="line">            que.push(p-&gt;lchild);</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;rchild != <span class="literal">NULL</span>)           <span class="comment">//右子树不空，将右子树入队</span></span><br><span class="line">            que.push(p-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//5二叉树节点的计数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tree_node_size</span><span class="params">(build_node *T)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T == <span class="literal">NULL</span>)</span><br><span class="line">        return <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        return <span class="number">1</span> + tree_node_size(T-&gt;lchild) + tree_node_size(T-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//6计算二叉树的高度</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">high</span><span class="params">(build_node **T)</span>                <span class="comment">//(如果二叉树为空那么高度为0，否则高度就是取左右子树中高的那个+根节点)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((*T) == <span class="literal">NULL</span>)</span><br><span class="line">        return <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> left = high(&amp;(*T)-&gt;lchild);</span><br><span class="line">        <span class="keyword">int</span> right = high(&amp;(*T)-&gt;rchild);</span><br><span class="line">        return (*T)-&gt;level = left &lt; right ? right + <span class="number">1</span> : left + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//7二叉树的复制，返回复制后的根节点</span></span><br><span class="line"><span class="function">build_node *<span class="title">Copy</span><span class="params">(build_node *T)</span>         <span class="comment">//不修改原树的数据，所以一级指针</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T == <span class="literal">NULL</span>)</span><br><span class="line">      return <span class="literal">NULL</span>;</span><br><span class="line">   build_node *tmp = (build_node *)<span class="built_in">malloc</span>(sizeof(build_node));</span><br><span class="line">   tmp-&gt;data = T-&gt;data;</span><br><span class="line">   tmp-&gt;lchild = Copy(T-&gt;lchild);</span><br><span class="line">   tmp-&gt;rchild = Copy(T-&gt;rchild);</span><br><span class="line">   return tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//6判断两棵二叉树是否相等</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEqual</span><span class="params">(build_node *root1, build_node *root2)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root1 == <span class="literal">NULL</span> &amp;&amp; root2 == <span class="literal">NULL</span>)</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(root1 != <span class="literal">NULL</span> &amp;&amp; root2 != <span class="literal">NULL</span> &amp;&amp; root1-&gt;data == root2-&gt;data</span><br><span class="line">       &amp;&amp; isEqual(root1-&gt;lchild, root2-&gt;lchild)</span><br><span class="line">       &amp;&amp; isEqual(root2-&gt;rchild, root2-&gt;rchild)</span><br><span class="line">       )</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//7二叉树的重建(节点编号从1~n)</span></span><br><span class="line"><span class="comment">//由先序序列和中序序列可以确定唯一二叉树</span></span><br><span class="line"><span class="comment">//由先序序列和中序序列构造二叉树（len是序列的长度，pre为先序序列 mid为中序序列，返回根节点）</span></span><br><span class="line">                           <span class="comment">//index  mid的index左边是左子树,右边是右子树,pre的index左边是左子树,跳过index距离后右边是右子树</span></span><br><span class="line"><span class="comment">// 中： C B E G D F A (左子树, 根, 右子树)</span></span><br><span class="line"><span class="comment">// 先： A B C D E G F (根, 左子树, 右子树)</span></span><br><span class="line"></span><br><span class="line"><span class="function">build_node *<span class="title">rebuildtree_1</span><span class="params">(<span class="keyword">char</span> *pre, <span class="keyword">char</span> *mid, <span class="keyword">int</span> len)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!len)</span><br><span class="line">        return <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(mid[index] !=  pre[<span class="number">0</span>])        <span class="comment">//在中序序列找根节点,先序序列第一个就是根</span></span><br><span class="line">        index++;                        <span class="comment">//index记录在中序序列里经过了几个元素才找到的,重建左子树时就要在先序序列里跳过这几个元素再找</span></span><br><span class="line">    build_node *root = (build_node *)<span class="built_in">malloc</span>(sizeof(build_node));</span><br><span class="line">    root-&gt;data = pre[<span class="number">0</span>];</span><br><span class="line">    root-&gt;lchild = rebuildtree_1(pre, mid, index);</span><br><span class="line">    root-&gt;rchild = rebuildtree_1(pre+index+<span class="number">1</span>, mid+index+<span class="number">1</span>, len-index<span class="number">-1</span>);<span class="comment">//右边len-index-1个元素是右子树的,扣除根节点</span></span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//8由后序序列和中序序列可以确定唯一二叉树</span></span><br><span class="line"><span class="comment">//由中序和后序建立二叉树(len是序列的长度，mid是中序序列，post是后序序列，返回根节点)</span></span><br><span class="line"><span class="comment">//重点是利用好 中序序列</span></span><br><span class="line">                           <span class="comment">//index  mid的index左边是左子树，右边是右子树,post的index左边是左子树,index后面是右子树</span></span><br><span class="line"><span class="comment">// 中： C B E G D F A (左子树, 根, 右子树)</span></span><br><span class="line"><span class="comment">// 后： C G E F D B A (左子树，右子树，根)</span></span><br><span class="line"><span class="function">build_node *<span class="title">rebuildtree_2</span><span class="params">(<span class="keyword">char</span> *mid, <span class="keyword">char</span> *post, <span class="keyword">int</span> len)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len == <span class="number">0</span>)</span><br><span class="line">        return <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;                      <span class="comment">//在中序序列中进行查找根节点，并用index记录在中序序列的索引</span></span><br><span class="line">    <span class="keyword">while</span>(mid[index] != post[len - <span class="number">1</span>])  <span class="comment">//在中序序列中找根节点,后序序列的最后一个是根</span></span><br><span class="line">        index++;</span><br><span class="line">    build_node *root = (build_node *)<span class="built_in">malloc</span>(sizeof(build_node));</span><br><span class="line">    root-&gt;data = post[len - <span class="number">1</span>];</span><br><span class="line">    root-&gt;lchild = rebuildtree_2(mid, post, index);</span><br><span class="line">    <span class="comment">//index在中序序列中左边是左子树,index在后序序列中,左边也是左子树,</span></span><br><span class="line">    <span class="comment">//index-1就是左子后右再根中的根,最后传过去index成len,len-1就是左子树的根</span></span><br><span class="line">    root-&gt;rchild = rebuildtree_2(mid+index+<span class="number">1</span>, post+index, len-index<span class="number">-1</span>);</span><br><span class="line">    <span class="comment">//根序号的右边是右子树,所以是从这mid+index+1开始找右子树的根,</span></span><br><span class="line">    <span class="comment">//index在中序序列中的右边是右子树,后序序列是先左子树再右子树最后根节点,</span></span><br><span class="line">    <span class="comment">//所以index在后序序列中左边也是左子树，右边是右子树和根，而index不一定是根的</span></span><br><span class="line">    <span class="comment">//位置了,所以从post[index]开始找右子树的根</span></span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"input.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="comment">//freopen("output.txt", "w", stdout);</span></span><br><span class="line">    build_node *T = <span class="literal">NULL</span>;</span><br><span class="line">    creat_tree(&amp;T);</span><br><span class="line">    <span class="comment">//////////////</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"preorder: \n"</span>);</span><br><span class="line">    preorder(T);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"inorder:\n"</span>);</span><br><span class="line">    inorder(T);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"postorder:\n"</span>);</span><br><span class="line">    postorder(T);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n/////////////\n"</span>);</span><br><span class="line"></span><br><span class="line">    high(&amp;T);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"levelorder:\n"</span>);</span><br><span class="line">    levelorder(T);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"tmp Copy of T:\n"</span>);</span><br><span class="line">    build_node *tmp = Copy(T);</span><br><span class="line">    inorder(tmp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\\\\\\\\\\\\\\\\\\\\\\\ \n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"tmp == T ?\n"</span>);</span><br><span class="line">    <span class="keyword">if</span>(isEqual(tmp, T))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line"></span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/binary tree/binary-tree/" data-id="cioa699qw001sy4dgstq1s9oq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构-二叉树/">数据结构-二叉树</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-queue/hdu-1276" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/queue/hdu-1276/" class="article-date">
  <time datetime="2016-05-04T01:46:38.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/queue/hdu-1276/">hdu 1276</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>　　某部队进行新兵队列训练，将新兵从一开始按顺序依次编号，并排成一行横队，训练的规则如下：从头开始一至二报数，凡报到二的出列，剩下的向小序号方向靠拢，再从头开始进行一至三报数，凡报到三的出列，剩下的向小序号方向靠拢，继续从头开始进行一至二报数。。。，以后从头开始轮流进行一至二报数、一至三报数直到剩下的人数不超过三人为止。</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>本题有多个测试数据组，第一行为组数N，接着为N行新兵人数，新兵人数不超过5000。</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>共有N行，分别对应输入的新兵人数，每行输出剩下的新兵最初的编号，编号之间有一个空格。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><p>2<br>20<br>40</p>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><p>1 7 19<br>1 19 37</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span> &lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"><span class="comment">//i=1(二) i=2(三) i=3(二) i=4(三) 所以，i是偶数则数到3踢人，否则数到2踢人</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> k)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(s.front() != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i % k != <span class="number">0</span>)</span><br><span class="line">            s.push(s.front());          <span class="comment">//把留下来的放队尾</span></span><br><span class="line">        s.pop();</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    s.pop();</span><br><span class="line">    s.push(<span class="number">0</span>);                          <span class="comment">//把队首的0去掉，在队尾加上0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t, n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t-- &amp;&amp; <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            s.push(i);</span><br><span class="line">        s.push(<span class="number">0</span>);                      <span class="comment">//编号是从1开始的，所以在最后面加个0代表队尾的标志</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(s.size() &gt; <span class="number">4</span>)&#123;            <span class="comment">//因为加上了0，所以长度小于等于4就退出</span></span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)              <span class="comment">//选择数三下踢一个人还是数两下踢一个人</span></span><br><span class="line">                solve(<span class="number">3</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                solve(<span class="number">2</span>);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!s.empty())&#123;</span><br><span class="line">            <span class="keyword">if</span>(s.front() != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; s.front();</span><br><span class="line">                s.pop();</span><br><span class="line">                <span class="keyword">if</span>(s.front() != <span class="number">0</span>)</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                s.pop();                <span class="comment">//记得把队尾标志0也清空</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/queue/hdu-1276/" data-id="cioa699vo005ny4dgszl9lgfu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构-队列/">数据结构-队列</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-queue/queue-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/queue/queue-2/" class="article-date">
  <time datetime="2016-05-04T01:23:15.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/queue/queue-2/">单项队列</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>单向队列 queue支持 </li>
<li>empty() </li>
<li>size() </li>
<li>front() </li>
<li>back() </li>
<li>push() </li>
<li>pop()<br>　　由于queue只是进一步封装别的数据结构，并提供自己的接口，所以代码非常简洁，如果不指定容器，默认是用deque来作为其底层数据结构的。下面给出单向队列的使用范例： </li>
</ul>
<p>参考：<a href="http://blog.csdn.net/MoreWindows" target="_blank" rel="external">http://blog.csdn.net/MoreWindows</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="comment">//可以使用list作为单向队列的容器，默认是使用deque的。  </span></span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>, <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&gt; a;  </span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;        b;  </span><br><span class="line">    <span class="keyword">int</span> i;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">//压入数据  </span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        a.push(i);  </span><br><span class="line">        b.push(i);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">//单向队列的大小  </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, a.size(), b.size());  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">//队列头和队列尾  </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, a.front(), a.back());  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, b.front(), b.back());  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">//取单向队列项数据并将数据移出单向队列  </span></span><br><span class="line">    <span class="keyword">while</span> (!a.empty())  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, a.front());  </span><br><span class="line">        a.pop();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">'\n'</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (!b.empty())  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, b.front());  </span><br><span class="line">        b.pop();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">'\n'</span>);  </span><br><span class="line">    return <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/queue/queue-2/" data-id="cioa699vo005ty4dgo5md087y" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构-队列/">数据结构-队列</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-queue/queue-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/queue/queue-1/" class="article-date">
  <time datetime="2016-05-04T01:21:25.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/queue/queue-1/">循环队列实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_SIZE 1000</span></span><br><span class="line"><span class="keyword">int</span> que_length = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> que_rear = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> que_front = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">struct</span> fifo&#123;</span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">&#125;que[MAX_SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return que_length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> val)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    que[que_rear].data = val;     <span class="comment">//传过来的是int型</span></span><br><span class="line">    que_length++;</span><br><span class="line">    que_rear = (que_rear + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p;</span><br><span class="line">    p = que[que_front].data;</span><br><span class="line">    que_front = (que_front + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">    que_length--;</span><br><span class="line">    return p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isempty</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return que_length == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isfull</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return que_length == MAX_SIZE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/queue/queue-1/" data-id="cioa699vo005ry4dgc0fq166k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构-队列/">数据结构-队列</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-euclid/king-s-cake" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/euclid/king-s-cake/" class="article-date">
  <time datetime="2016-05-04T01:06:24.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/euclid/king-s-cake/">king&#39;s cake</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>阅兵式前一天，是国王的生日，大臣们为他准备了一个n×m(1≤n,m≤10000) 的蛋糕。他准备切蛋糕，但他切蛋糕有奇奇怪怪的癖好，他每次只切一刀，切下一个正方形蛋糕。请问它最多能切出多少个正方形蛋糕？</p>
<h2 id="输入描述"><a href="#输入描述" class="headerlink" title="输入描述"></a>输入描述</h2><p>第一行一个整数表示测试组数：T (0&lt;T≤1000) 。</p>
<p>每组数据占一行，每行两个整数 n×m(1≤n,m≤10000)，表示蛋糕的大小。</p>
<h2 id="输出描述"><a href="#输出描述" class="headerlink" title="输出描述"></a>输出描述</h2><p>共 T 行，每行一个整数表示最多能切出的正方形蛋糕数量。</p>
<h2 id="输入样例"><a href="#输入样例" class="headerlink" title="输入样例"></a>输入样例</h2><p>2<br>2 3<br>2 5</p>
<h2 id="输出样例"><a href="#输出样例" class="headerlink" title="输出样例"></a>输出样例</h2><p>3<br>4</p>
<h2 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h2><p>对于第一组数据，可切出一个 2×2, 两个1×1，共 3 个。</p>
<p>对于第一组数据，可切出两个 2×2, 两个1×1，共 4 个。</p>
<p><img src="http://i2.piimg.com/a70e5c4c90aaef9c.png" alt="tu"></p>
<ul>
<li><h2 id="不需要考虑一开始输入的a就一定要大于b，因为如果a-lt-b-a-b-0-r-a-经过一遍循环后会把a和b的值交换"><a href="#不需要考虑一开始输入的a就一定要大于b，因为如果a-lt-b-a-b-0-r-a-经过一遍循环后会把a和b的值交换" class="headerlink" title="不需要考虑一开始输入的a就一定要大于b，因为如果a&lt;b,a/b=0,r=a,经过一遍循环后会把a和b的值交换"></a>不需要考虑一开始输入的a就一定要大于b，因为如果a&lt;b,a/b=0,r=a,经过一遍循环后会把a和b的值交换</h2></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t, a, b, ans, r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">        <span class="keyword">while</span>(r = a % b)&#123;</span><br><span class="line">            ans += a / b;</span><br><span class="line">            a = b;</span><br><span class="line">            b = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans + a / b);</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/euclid/king-s-cake/" data-id="cioa699s7002vy4dg36t15oe7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法-数论-欧几里得/">算法-数论-欧几里得</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-euclid/euclid" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/04/euclid/euclid/" class="article-date">
  <time datetime="2016-05-04T00:58:25.000Z" itemprop="datePublished">2016-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/04/euclid/euclid/">欧几里得算法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="求最大公约数和最小公倍数"><a href="#求最大公约数和最小公倍数" class="headerlink" title="求最大公约数和最小公倍数"></a>求最大公约数和最小公倍数</h2><p><img src="http://i2.piimg.com/3c3519326a0ad114.png" alt="图"></p>
<ul>
<li>定理：</li>
</ul>
<blockquote>
<p>1.设a=qb+r   (a,b,q,r都是整数)，则gcd(a,b)=gcd(b,r)<br>a，b的最大公约数等于b和r的最大公约数<br>2.如果gcd(a,b)=1，则称a和b互素</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span>			<span class="comment">//最大公约数</span></span><br><span class="line"></span>&#123;<span class="comment">//这里的判断b是否等于0时,其实此时的b是上次传过来的a%b,所以其实是判断a%b是否等于0</span></span><br><span class="line">    return b ? gcd(b, a % b) : a;	<span class="comment">//如果上次的a%b不等于0继续将求a,b的最大公约数转换为求b,a%b的</span></span><br><span class="line">&#125;                               	<span class="comment">//最大公约数,当a%b时上次传来的b(也就是这次的a)就是最大公约数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcm</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span>			<span class="comment">//最小公倍数</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return a * b / gcd(a, b);		<span class="comment">//最小公倍数=原a*原b/(a,b的最大公约数)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a, b, c, n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;a, &amp;b, &amp;c) != EOF)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, lcm(lcm(a, b), c));<span class="comment">//求a,b,c的最小公倍数</span></span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/04/euclid/euclid/" data-id="cioa699s7002ty4dgw91ughp2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法-数论-欧几里得/">算法-数论-欧几里得</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-(Binary Indexed Tree(BIT)/poj-2299-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/03/(Binary Indexed Tree(BIT)/poj-2299-3/" class="article-date">
  <time datetime="2016-05-03T15:41:50.000Z" itemprop="datePublished">2016-05-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/03/(Binary Indexed Tree(BIT)/poj-2299-3/">poj 2299(转)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="网上转的一篇解题报告有蛮详细的"><a href="#网上转的一篇解题报告有蛮详细的" class="headerlink" title="网上转的一篇解题报告有蛮详细的"></a>网上转的一篇解题报告有蛮详细的</h2><p>链接：没找到是哪个博客的了，当时忘保存了，出处是csdn</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1</span><span class="comment">/*</span><br><span class="line">  2 树状数组，具体的说是 离散化+树状数组。这也是学习树状数组的第一题.</span><br><span class="line">  3 算法的大体流程就是：</span><br><span class="line">  4 1.先对输入的数组离散化，使得各个元素比较接近，而不是离散的，</span><br><span class="line">  5 2.接着，运用树状数组的标准操作来累计数组的逆序数。</span><br><span class="line">  6 算法详细解释：</span><br><span class="line">  7 1.解释为什么要有离散的这么一个过程？//为了后面用树状数组</span><br><span class="line">  8     刚开始以为999.999.999这么一个数字，对于int存储类型来说是足够了。</span><br><span class="line">  9     还有只有500000个数字，何必要离散化呢？</span><br><span class="line"> 10     刚开始一直想不通，后来明白了，后面在运用树状数组操作的时候，</span><br><span class="line"> 11     用到的树状数组C[i]是建立在一个有点像位存储的数组的基础之上的，</span><br><span class="line"> 12     不是单纯的建立在输入数组之上。</span><br><span class="line"> 13     比如输入一个9 1 0 5 4，那么C[i]树状数组的建立是在，</span><br><span class="line"> 14 </span><br><span class="line"> 15     数据：9 1 0 5 4  p[i].val</span><br><span class="line"> 16     编号：1 2 3 4 5  p[i].oder = i*************</span><br><span class="line"> 17     sort</span><br><span class="line"> 18     数据：0 1 4 5 9</span><br><span class="line"> 19     编号：3 2 5 4 1</span><br><span class="line"> 20     顺序：1 2 3 4 5</span><br><span class="line"> 21 </span><br><span class="line"> 22     a[p[i].编号] = 顺序号;**********************</span><br><span class="line"> 23 </span><br><span class="line"> 24     a[3] = 1&lt;--0;</span><br><span class="line"> 25     a[2] = 2&lt;--1;</span><br><span class="line"> 26     a[5] = 3&lt;--4;</span><br><span class="line"> 27     a[4] = 4&lt;--5;</span><br><span class="line"> 28     a[1] = 5&lt;--9;</span><br><span class="line"> 29 </span><br><span class="line"> 30     a[]=&#123; 5 2 1 4 3 &#125;</span><br><span class="line"> 31 </span><br><span class="line"> 32     新号：1 2 3 4 5</span><br><span class="line"> 33     值  ：</span><br><span class="line"> 34 </span><br><span class="line"> 35 </span><br><span class="line"> 36     下标 0 1 2 3 4 5 6 7 8 9</span><br><span class="line"> 37     数组 1 1 0 0 1 1 0 0 0 1</span><br><span class="line"> 38     现在由于999999999这个数字相对于500000这个数字来说是很大的，</span><br><span class="line"> 39     所以如果用数组位存储的话，那么需要999999999的空间来存储输入的数据。</span><br><span class="line"> 40     这样是很浪费空间的，题目也是不允许的，所以这里想通过离散化操作，</span><br><span class="line"> 41     使得离散化的结果可以更加的密集。</span><br><span class="line"> 42 2. 怎么对这个输入的数组进行离散操作？</span><br><span class="line"> 43    离散化是一种常用的技巧，有时数据范围太大，可以用来放缩到我们能处理的范围；</span><br><span class="line"> 44    因为其中需排序的数的范围0---999 999 999；显然数组不肯能这么大；</span><br><span class="line"> 45    而N的最大范围是500 000；故给出的数一定可以与1.。。。N建立一个一一映射；</span><br><span class="line"> 46    ①当然用map可以建立，效率可能低点；</span><br><span class="line"> 47    ②这里用一个结构体</span><br><span class="line"> 48    struct Node</span><br><span class="line"> 49    &#123;</span><br><span class="line"> 50       int v,ord;</span><br><span class="line"> 51    &#125;p[510000];和一个数组a[510000];</span><br><span class="line"> 52 </span><br><span class="line"> 53    其中v就是原输入的值，ord是下标；</span><br><span class="line"> 54    然后对结构体按v从小到大排序；</span><br><span class="line"> 55 </span><br><span class="line"> 56    此时，v和结构体的下标就是一个一一对应关系，</span><br><span class="line"> 57    而且满足原来的大小关系；</span><br><span class="line"> 58 </span><br><span class="line"> 59    for(i=1;i&lt;=N;i++)</span><br><span class="line"> 60    a[p[i].ord]=i;</span><br><span class="line"> 61 </span><br><span class="line"> 62    然后a数组就存储了原来所有的大小信息；</span><br><span class="line"> 63    比如 9 1 0 5 4 ------- 离散后aa数组</span><br><span class="line"> 64    就是 5 2 1 4 3；</span><br><span class="line"> 65    具体的过程可以自己用笔写写就好了。</span><br><span class="line"> 66 3. 离散之后，怎么使用离散后的结果数组来进行树状数组操作，计算出逆序数？</span><br><span class="line"> 67     如果数据不是很大， 可以一个个插入到树状数组中，</span><br><span class="line"> 68     每插入一个数， 统计比他小的数的个数，</span><br><span class="line"> 69     对应的逆序为 i- getsum( aa[i] ),</span><br><span class="line"> 70     其中 i 为当前已经插入的数的个数，</span><br><span class="line"> 71     getsum( aa[i] ）为比 aa[i] 小的数的个数,</span><br><span class="line"> 72     i- sum( aa[i] ) 即比 aa[i] 大的个数， 即逆序的个数</span><br><span class="line"> 73     但如果数据比较大，就必须采用离散化方法</span><br><span class="line"> 74     假设输入的数组是9 1 0 5 4， 离散后的结果aa[] = &#123;5,2,1,4,3&#125;;</span><br><span class="line"> 75 在离散结果中间结果的基础上，那么其计算逆序数的过程是这么一个过程。</span><br><span class="line"> 76 1，输入5，   调用upDate(5, 1),把第5位设置为1</span><br><span class="line"> 77 1 2 3 4 5</span><br><span class="line"> 78 0 0 0 0 1   </span><br><span class="line">//后面都是计算1-n上小于等于n的数的总数,而不是小于n的数的总数,是考虑了重复的情况</span><br><span class="line"> 79 计算1-5上比5小(小于等于5)的数字存在么？ 这里用到了树状数组的getSum（5） = 1操作，</span><br><span class="line"> 80 现在用输入的下标1 - getSum(5) = 0 就可以得到对于5的逆序数为0。</span><br><span class="line"> 81 2. 输入2， 调用upDate(2, 1),把第2位设置为1</span><br><span class="line"> 82 1 2 3 4 5</span><br><span class="line"> 83 0 1 0 0 1</span><br><span class="line"> 84 计算1-2上比2小(小于等于2)的数字存在么？ 这里用到了树状数组的getSum（2） = 1操作，</span><br><span class="line"> 85 现在用输入的下标2 - getSum(2) = 1 就可以得到对于2的逆序数为1。</span><br><span class="line"> 86 3. 输入1， 调用upDate(1, 1),把第1位设置为1</span><br><span class="line"> 87 1 2 3 4 5</span><br><span class="line"> 88 1 1 0 0 1</span><br><span class="line"> 89 计算1-1上比1小(小于等于1)的数字存在么？ 这里用到了树状数组的getSum（1） = 1操作，</span><br><span class="line"> 90 现在用输入的下标 3 - getSum(1) = 2 就可以得到对于1的逆序数为2。</span><br><span class="line"> 91 4. 输入4， 调用upDate(4, 1),把第4位设置为1</span><br><span class="line"> 92 1 2 3 4 5</span><br><span class="line"> 93 1 1 0 1 1</span><br><span class="line"> 94 计算1-4上比4小(小于等于1)的数字存在么？ 这里用到了树状数组的getSum（4） = 3操作，</span><br><span class="line"> 95 现在用输入的下标4 - getSum(4) = 1 就可以得到对于4的逆序数为1。</span><br><span class="line"> 96 5. 输入3， 调用upDate(3, 1),把第3位设置为1</span><br><span class="line"> 97 1 2 3 4 5</span><br><span class="line"> 98 1 1 1 1 1</span><br><span class="line"> 99 计算1-3上比3小(小于等于3)的数字存在么？ 这里用到了树状数组的getSum（3） = 3操作，</span><br><span class="line">100 现在用输入的下标5 - getSum(3) = 2 就可以得到对于3的逆序数为2。</span><br><span class="line">101 6. 0+1+2+1+2 = 6 这就是最后的逆序数</span><br><span class="line">102 分析一下时间复杂度，首先用到快速排序，时间复杂度为O(NlogN),</span><br><span class="line">103 后面是循环插入每一个数字，每次插入一个数字，分别调用一次upData()和getSum()</span><br><span class="line">104 外循环N, upData()和getSum()时间O(logN) =&gt; 时间复杂度还是O(NlogN).</span><br><span class="line">105 */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">代码：</span><br><span class="line">版本一：</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">500005</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> Node&#123;</span><br><span class="line">    <span class="keyword">int</span> val;<span class="comment">//储存原始的数据</span></span><br><span class="line">    <span class="keyword">int</span> pos;<span class="comment">//储存原始的下标</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Node node[N];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> tree[N], reflect[N];<span class="comment">//树状数组，映射数组</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> Node &amp;a, <span class="keyword">const</span> Node &amp;b)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return a.val &lt; b.val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return x &amp; -x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(index &lt;= n)&#123;</span><br><span class="line">        tree[index] += val;</span><br><span class="line">        index += lowbit(index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> index)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(index &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        sum += tree[index];</span><br><span class="line">        index -= lowbit(index);</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) != EOF &amp;&amp; n)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;node[i].val);</span><br><span class="line">            node[i].pos = i;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(node + <span class="number">1</span>, node + <span class="number">1</span> + n, cmp);<span class="comment">//将结构数组里的元素根据val从小到大排序</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            reflect[node[i].pos] = i;<span class="comment">//离散化</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            tree[i] = <span class="number">0</span>;<span class="comment">//初始化树状数组</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            update(reflect[i], <span class="number">1</span>);</span><br><span class="line">            ans += i - getsum(reflect[i]); <span class="comment">//i减去小于等于他的个数得出比他大个数</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////</span></span><br><span class="line">版本二：</span><br><span class="line">离散化借助了两个数组，需要用二分查找</span><br><span class="line"><span class="number">1.</span>	<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="number">2.</span>	<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="number">3.</span>	<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="number">4.</span>	<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="number">5.</span>	<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="number">6.</span>	  </span><br><span class="line"><span class="number">7.</span>	<span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">500010</span>;  </span><br><span class="line"><span class="number">8.</span>	  </span><br><span class="line"><span class="number">9.</span>	<span class="keyword">int</span> n;  </span><br><span class="line"><span class="number">10.</span>	<span class="keyword">int</span> tmpNum[MAXN] , num[MAXN];  </span><br><span class="line"><span class="number">11.</span>	<span class="keyword">int</span> treeNum[MAXN];  </span><br><span class="line"><span class="number">12.</span>	  </span><br><span class="line"><span class="number">13.</span>	<span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;  </span><br><span class="line"><span class="number">14.</span>	    return x&amp;(-x);  </span><br><span class="line"><span class="number">15.</span>	&#125;  </span><br><span class="line"><span class="number">16.</span>	  </span><br><span class="line"><span class="number">17.</span>	<span class="function"><span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;  </span><br><span class="line"><span class="number">18.</span>	    <span class="keyword">int</span> sum = <span class="number">0</span>;  </span><br><span class="line"><span class="number">19.</span>	    <span class="keyword">while</span>(x)&#123;  </span><br><span class="line"><span class="number">20.</span>	        sum += treeNum[x];   </span><br><span class="line"><span class="number">21.</span>	        x -= lowbit(x);  </span><br><span class="line"><span class="number">22.</span>	    &#125;  </span><br><span class="line"><span class="number">23.</span>	    return sum;  </span><br><span class="line"><span class="number">24.</span>	&#125;  </span><br><span class="line"><span class="number">25.</span>	  </span><br><span class="line"><span class="number">26.</span>	<span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x , <span class="keyword">int</span> val)</span></span>&#123;  </span><br><span class="line"><span class="number">27.</span>	    <span class="keyword">while</span>(x &lt; MAXN)&#123;  </span><br><span class="line"><span class="number">28.</span>	         treeNum[x] += val;   </span><br><span class="line"><span class="number">29.</span>	         x += lowbit(x);  </span><br><span class="line"><span class="number">30.</span>	    &#125;  </span><br><span class="line"><span class="number">31.</span>	&#125;  </span><br><span class="line"><span class="number">32.</span>	  </span><br><span class="line"><span class="number">33.</span>	<span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> x , <span class="keyword">int</span> len)</span></span>&#123;  </span><br><span class="line"><span class="number">34.</span>	    <span class="keyword">int</span> left = <span class="number">1</span>;  </span><br><span class="line"><span class="number">35.</span>	    <span class="keyword">int</span> right = len;  </span><br><span class="line"><span class="number">36.</span>	    <span class="keyword">while</span>(left &lt;= right)&#123;  </span><br><span class="line"><span class="number">37.</span>	         <span class="keyword">int</span> mid = (left+right)&gt;&gt;<span class="number">1</span>;   </span><br><span class="line"><span class="number">38.</span>	         <span class="keyword">if</span>(num[mid] == x)  </span><br><span class="line"><span class="number">39.</span>	             return mid;  </span><br><span class="line"><span class="number">40.</span>	         <span class="keyword">else</span> <span class="keyword">if</span>(num[mid] &lt; x)  </span><br><span class="line"><span class="number">41.</span>	             left = mid+<span class="number">1</span>;  </span><br><span class="line"><span class="number">42.</span>	         <span class="keyword">else</span>  </span><br><span class="line"><span class="number">43.</span>	             right = mid<span class="number">-1</span>;  </span><br><span class="line"><span class="number">44.</span>	    &#125;  </span><br><span class="line"><span class="number">45.</span>	&#125;  </span><br><span class="line"><span class="number">46.</span>	  </span><br><span class="line"><span class="number">47.</span>	<span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solve</span><span class="params">()</span></span>&#123;  </span><br><span class="line"><span class="number">48.</span>	    <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;  </span><br><span class="line"><span class="number">49.</span>	    <span class="built_in">memcpy</span>(tmpNum , num , <span class="keyword">sizeof</span>(num));  </span><br><span class="line"><span class="number">50.</span>	    <span class="built_in">memset</span>(treeNum , <span class="number">0</span> , <span class="keyword">sizeof</span>(treeNum));  </span><br><span class="line"><span class="number">51.</span>	    sort(num+<span class="number">1</span> , num+<span class="number">1</span>+n);  </span><br><span class="line"><span class="number">52.</span>	    <span class="keyword">int</span> len = unique(num+<span class="number">1</span> , num+<span class="number">1</span>+n)-(num+<span class="number">1</span>);   </span><br><span class="line"><span class="number">53.</span>	    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)&#123;  </span><br><span class="line"><span class="number">54.</span>	        <span class="keyword">int</span> id = search(tmpNum[i] , len);   </span><br><span class="line"><span class="number">55.</span>	        ans += i-getSum(id)<span class="number">-1</span>;  </span><br><span class="line"><span class="number">56.</span>	        add(id , <span class="number">1</span>);  </span><br><span class="line"><span class="number">57.</span>	    &#125;  </span><br><span class="line"><span class="number">58.</span>	    return ans;  </span><br><span class="line"><span class="number">59.</span>	&#125;  </span><br><span class="line"><span class="number">60.</span>	  </span><br><span class="line"><span class="number">61.</span>	<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line"><span class="number">62.</span>	    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) &amp;&amp; n)&#123;  </span><br><span class="line"><span class="number">63.</span>	         <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)   </span><br><span class="line"><span class="number">64.</span>	             <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;num[i]);  </span><br><span class="line"><span class="number">65.</span>	         <span class="built_in">printf</span>(<span class="string">"%lld\n"</span> , solve());  </span><br><span class="line"><span class="number">66.</span>	    &#125;  </span><br><span class="line"><span class="number">67.</span>	    return <span class="number">0</span>;  </span><br><span class="line"><span class="number">68.</span>	&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/03/(Binary Indexed Tree(BIT)/poj-2299-3/" data-id="cioa699oa0009y4dglzk0b16w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构-树状数组/">数据结构-树状数组</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法-离散化/">算法-离散化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/逆序对/">逆序对</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-(Binary Indexed Tree(BIT)/poj-2299 2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/03/(Binary Indexed Tree(BIT)/poj-2299 2/" class="article-date">
  <time datetime="2016-05-03T15:35:52.000Z" itemprop="datePublished">2016-05-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/03/(Binary Indexed Tree(BIT)/poj-2299 2/">poj 2299 (我的版本)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p><a href="http://poj.org/problem?id=2299" target="_blank" rel="external">http://poj.org/problem?id=2299</a></p>
<blockquote>
<h2 id="注意：-树状数组下标要从1开始"><a href="#注意：-树状数组下标要从1开始" class="headerlink" title="注意： 树状数组下标要从1开始"></a>注意： 树状数组下标要从1开始</h2></blockquote>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>例如 ：<br>pos:1 2 3 4 5<br>val: 9 1 0 5 4</p>
<h3 id="离散化"><a href="#离散化" class="headerlink" title="离散化:"></a>离散化:</h3><p>　　将上面的val变为5 2 1 4 3   离散后的数据<br>　　      　输入的顺序为1 2 3 4 5   reflect数组的下标</p>
<p>sort(node + 1, node + 1 + n, cmp);<br>       val:  0 1 4 5 9<br>       pos:  3 2 5 4 1<br>val离散成下标1 2 3 4 5<br>就成了：1的输入顺序是3,2的输入顺序是2,3的输入顺序是5,4的输入顺序是4，5的输入顺序是1<br>reflect[node[i].pos] = i;<br>  　reflect下标: 1 2 3 4 5<br>离散后的数据:5 2 1 4 3 (按输入的顺序)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">500005</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> Node&#123;</span><br><span class="line">    <span class="keyword">int</span> val;				<span class="comment">//储存原始的数据</span></span><br><span class="line">    <span class="keyword">int</span> pos;				<span class="comment">//储存原始的下标</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Node node[N];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> tree[N], reflect[N];		<span class="comment">//树状数组，映射数组</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> Node &amp;a, <span class="keyword">const</span> Node &amp;b)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return a.val &lt; b.val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    return x &amp; -x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(index &lt;= n)&#123;</span><br><span class="line">        tree[index] += val;</span><br><span class="line">        index += lowbit(index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> index)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(index &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        sum += tree[index];</span><br><span class="line">        index -= lowbit(index);</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) != EOF &amp;&amp; n)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;node[i].val);</span><br><span class="line">            node[i].pos = i;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(node + <span class="number">1</span>, node + <span class="number">1</span> + n, cmp);<span class="comment">//将结构数组里的元素根据val从小到大排序</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            reflect[node[i].pos] = i;	  <span class="comment">//离散化</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            tree[i] = <span class="number">0</span>;<span class="comment">//初始化树状数组</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            update(reflect[i], <span class="number">1</span>);</span><br><span class="line">            ans += i - getsum(reflect[i]); <span class="comment">//i减去小于等于他的个数得出比他大个数</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/03/(Binary Indexed Tree(BIT)/poj-2299 2/" data-id="cioa699oa0007y4dgats2kymo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构-树状数组/">数据结构-树状数组</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法-离散化/">算法-离散化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/逆序对/">逆序对</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/8/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/10/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图床/">图床</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/常用/">常用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-二叉搜索树/">数据结构-二叉搜索树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-二叉树/">数据结构-二叉树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-双向链表/">数据结构-双向链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-图论基础/">数据结构-图论-图论基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-拓扑排序/">数据结构-图论-拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最小生成树/">数据结构-图论-最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最小生成树-kruskal/">数据结构-图论-最小生成树-kruskal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最小生成树-prime/">数据结构-图论-最小生成树-prime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最短路-Dijsktra/">数据结构-图论-最短路-Dijsktra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最短路-SPFA/">数据结构-图论-最短路-SPFA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-最短路-floyd/">数据结构-图论-最短路-floyd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-图论-链式前向星/">数据结构-图论-链式前向星</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-字典树/">数据结构-字典树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-循环链表/">数据结构-循环链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-栈/">数据结构-栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-树状数组/">数据结构-树状数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-链表/">数据结构-链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构-队列/">数据结构-队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模拟/">模拟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/水题/">水题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-Insersion-Sort-插入排序/">算法-Insersion Sort(插入排序)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-binary-search-二分查找/">算法-binary search(二分查找)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-qmul-快速乘/">算法-qmul(快速乘)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-qpow-快速幂/">算法-qpow(快速幂)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-qsort（快速排序）/">算法-qsort（快速排序）</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-位向量法/">算法-位向量法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-全排列/">算法-全排列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-动态规划/">算法-动态规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-动态规划-按位dp/">算法-动态规划-按位dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-回溯法/">算法-回溯法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-图论-差分约束/">算法-图论-差分约束</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-图论-广度优先搜索/">算法-图论-广度优先搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-图论-深度优先搜索/">算法-图论-深度优先搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-尺取法/">算法-尺取法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-卡特兰数/">算法-数论-卡特兰数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-同余定理/">算法-数论-同余定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-欧几里得/">算法-数论-欧几里得</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-素数筛选法/">算法-数论-素数筛选法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-数论-费马小定理/">算法-数论-费马小定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-映射/">算法-映射</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-枚举/">算法-枚举</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-标记-查表思想/">算法-标记,查表思想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-离散化/">算法-离散化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-贪心/">算法-贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-输入挂和输出挂/">算法-输入挂和输出挂</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-预处理思想/">算法-预处理思想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语言-C/">语言-C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语言-java基础知识/">语言-java基础知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆序对/">逆序对</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高级数据结构-并查集/">高级数据结构-并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高级数据结构-线段树/">高级数据结构-线段树</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/图床/" style="font-size: 10px;">图床</a> <a href="/tags/常用/" style="font-size: 15.56px;">常用</a> <a href="/tags/数据结构-二叉搜索树/" style="font-size: 11.11px;">数据结构-二叉搜索树</a> <a href="/tags/数据结构-二叉树/" style="font-size: 11.11px;">数据结构-二叉树</a> <a href="/tags/数据结构-双向链表/" style="font-size: 10px;">数据结构-双向链表</a> <a href="/tags/数据结构-图论-图论基础/" style="font-size: 15.56px;">数据结构-图论-图论基础</a> <a href="/tags/数据结构-图论-拓扑排序/" style="font-size: 11.11px;">数据结构-图论-拓扑排序</a> <a href="/tags/数据结构-图论-最小生成树/" style="font-size: 10px;">数据结构-图论-最小生成树</a> <a href="/tags/数据结构-图论-最小生成树-kruskal/" style="font-size: 15.56px;">数据结构-图论-最小生成树-kruskal</a> <a href="/tags/数据结构-图论-最小生成树-prime/" style="font-size: 13.33px;">数据结构-图论-最小生成树-prime</a> <a href="/tags/数据结构-图论-最短路-Dijsktra/" style="font-size: 10px;">数据结构-图论-最短路-Dijsktra</a> <a href="/tags/数据结构-图论-最短路-SPFA/" style="font-size: 10px;">数据结构-图论-最短路-SPFA</a> <a href="/tags/数据结构-图论-最短路-floyd/" style="font-size: 14.44px;">数据结构-图论-最短路-floyd</a> <a href="/tags/数据结构-图论-链式前向星/" style="font-size: 12.22px;">数据结构-图论-链式前向星</a> <a href="/tags/数据结构-字典树/" style="font-size: 14.44px;">数据结构-字典树</a> <a href="/tags/数据结构-循环链表/" style="font-size: 10px;">数据结构-循环链表</a> <a href="/tags/数据结构-栈/" style="font-size: 16.67px;">数据结构-栈</a> <a href="/tags/数据结构-树状数组/" style="font-size: 14.44px;">数据结构-树状数组</a> <a href="/tags/数据结构-链表/" style="font-size: 10px;">数据结构-链表</a> <a href="/tags/数据结构-队列/" style="font-size: 12.22px;">数据结构-队列</a> <a href="/tags/模拟/" style="font-size: 12.22px;">模拟</a> <a href="/tags/水题/" style="font-size: 20px;">水题</a> <a href="/tags/算法-Insersion-Sort-插入排序/" style="font-size: 10px;">算法-Insersion Sort(插入排序)</a> <a href="/tags/算法-binary-search-二分查找/" style="font-size: 12.22px;">算法-binary search(二分查找)</a> <a href="/tags/算法-qmul-快速乘/" style="font-size: 11.11px;">算法-qmul(快速乘)</a> <a href="/tags/算法-qpow-快速幂/" style="font-size: 12.22px;">算法-qpow(快速幂)</a> <a href="/tags/算法-qsort（快速排序）/" style="font-size: 14.44px;">算法-qsort（快速排序）</a> <a href="/tags/算法-位向量法/" style="font-size: 11.11px;">算法-位向量法</a> <a href="/tags/算法-全排列/" style="font-size: 15.56px;">算法-全排列</a> <a href="/tags/算法-动态规划/" style="font-size: 18.89px;">算法-动态规划</a> <a href="/tags/算法-动态规划-按位dp/" style="font-size: 10px;">算法-动态规划-按位dp</a> <a href="/tags/算法-回溯法/" style="font-size: 18.89px;">算法-回溯法</a> <a href="/tags/算法-图论-差分约束/" style="font-size: 10px;">算法-图论-差分约束</a> <a href="/tags/算法-图论-广度优先搜索/" style="font-size: 13.33px;">算法-图论-广度优先搜索</a> <a href="/tags/算法-图论-深度优先搜索/" style="font-size: 12.22px;">算法-图论-深度优先搜索</a> <a href="/tags/算法-尺取法/" style="font-size: 11.11px;">算法-尺取法</a> <a href="/tags/算法-数论-卡特兰数/" style="font-size: 10px;">算法-数论-卡特兰数</a> <a href="/tags/算法-数论-同余定理/" style="font-size: 13.33px;">算法-数论-同余定理</a> <a href="/tags/算法-数论-欧几里得/" style="font-size: 11.11px;">算法-数论-欧几里得</a> <a href="/tags/算法-数论-素数筛选法/" style="font-size: 12.22px;">算法-数论-素数筛选法</a> <a href="/tags/算法-数论-费马小定理/" style="font-size: 12.22px;">算法-数论-费马小定理</a> <a href="/tags/算法-映射/" style="font-size: 12.22px;">算法-映射</a> <a href="/tags/算法-枚举/" style="font-size: 11.11px;">算法-枚举</a> <a href="/tags/算法-标记-查表思想/" style="font-size: 17.78px;">算法-标记,查表思想</a> <a href="/tags/算法-离散化/" style="font-size: 13.33px;">算法-离散化</a> <a href="/tags/算法-贪心/" style="font-size: 11.11px;">算法-贪心</a> <a href="/tags/算法-输入挂和输出挂/" style="font-size: 10px;">算法-输入挂和输出挂</a> <a href="/tags/算法-预处理思想/" style="font-size: 10px;">算法-预处理思想</a> <a href="/tags/语言-C/" style="font-size: 10px;">语言-C++</a> <a href="/tags/语言-java基础知识/" style="font-size: 13.33px;">语言-java基础知识</a> <a href="/tags/逆序对/" style="font-size: 13.33px;">逆序对</a> <a href="/tags/高级数据结构-并查集/" style="font-size: 14.44px;">高级数据结构-并查集</a> <a href="/tags/高级数据结构-线段树/" style="font-size: 17.78px;">高级数据结构-线段树</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/16/bit-dp/">按位dp hdu2089</a>
          </li>
        
          <li>
            <a href="/2016/05/12/水题/hdu-5641/">hdu 5641</a>
          </li>
        
          <li>
            <a href="/2016/05/12/水题/ZOJ-3878/">ZOJ 3878</a>
          </li>
        
          <li>
            <a href="/2016/05/12/水题/ZOJ-3876/">ZOJ 3876</a>
          </li>
        
          <li>
            <a href="/2016/05/12/常用/ri-qi-2/">算日期是星期几</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>